# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

RTVIEW_METADATA = Metadata(
    id="2ef4bce55220bcf276d003816688864a2de209aa.boutiques",
    name="rtview",
    package="freesurfer",
    container_image_tag="freesurfer/freesurfer:7.4.1",
)


_RtviewParamsDictNoTag = typing.TypedDict('_RtviewParamsDictNoTag', {
    "subject": typing.NotRequired[str | None],
    "hemi": typing.NotRequired[str | None],
    "left_hemi": bool,
    "right_hemi": bool,
    "eccen": bool,
    "polar": bool,
    "real_file": typing.NotRequired[InputPathType | None],
    "imag_file": typing.NotRequired[InputPathType | None],
    "fsig_file": typing.NotRequired[InputPathType | None],
    "reg_file": typing.NotRequired[InputPathType | None],
    "flat_display": bool,
    "patch": typing.NotRequired[str | None],
    "tcl_file": typing.NotRequired[InputPathType | None],
    "no_cleanup": bool,
})
RtviewParamsDictTagged = typing.TypedDict('RtviewParamsDictTagged', {
    "@type": typing.Literal["freesurfer/rtview"],
    "subject": typing.NotRequired[str | None],
    "hemi": typing.NotRequired[str | None],
    "left_hemi": bool,
    "right_hemi": bool,
    "eccen": bool,
    "polar": bool,
    "real_file": typing.NotRequired[InputPathType | None],
    "imag_file": typing.NotRequired[InputPathType | None],
    "fsig_file": typing.NotRequired[InputPathType | None],
    "reg_file": typing.NotRequired[InputPathType | None],
    "flat_display": bool,
    "patch": typing.NotRequired[str | None],
    "tcl_file": typing.NotRequired[InputPathType | None],
    "no_cleanup": bool,
})
RtviewParamsDict = _RtviewParamsDictNoTag | RtviewParamsDictTagged


class RtviewOutputs(typing.NamedTuple):
    """
    Output object returned when calling `RtviewParamsDict(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""


def rtview_params(
    subject: str | None = None,
    hemi: str | None = None,
    left_hemi: bool = False,
    right_hemi: bool = False,
    eccen: bool = False,
    polar: bool = False,
    real_file: InputPathType | None = None,
    imag_file: InputPathType | None = None,
    fsig_file: InputPathType | None = None,
    reg_file: InputPathType | None = None,
    flat_display: bool = False,
    patch: str | None = None,
    tcl_file: InputPathType | None = None,
    no_cleanup: bool = False,
) -> RtviewParamsDictTagged:
    """
    Build parameters.
    
    Args:
        subject: Subject to use as display.
        hemi: Hemisphere to display: 'lh' for left hemisphere or 'rh' for right\
            hemisphere.
        left_hemi: Display left hemisphere.
        right_hemi: Display right hemisphere.
        eccen: Display eccentricity data.
        polar: Display polar data.
        real_file: File containing real (cosine) values.
        imag_file: File containing imaginary (sine) values.
        fsig_file: File containing significance values.
        reg_file: Registration file for when real/imag/fsig are volumes.
        flat_display: Display on occip.patch.flat.
        patch: Display on specified patchname.
        tcl_file: Use your own TCL command file.
        no_cleanup: Don't delete temporary directory.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "freesurfer/rtview",
        "left_hemi": left_hemi,
        "right_hemi": right_hemi,
        "eccen": eccen,
        "polar": polar,
        "flat_display": flat_display,
        "no_cleanup": no_cleanup,
    }
    if subject is not None:
        params["subject"] = subject
    if hemi is not None:
        params["hemi"] = hemi
    if real_file is not None:
        params["real_file"] = real_file
    if imag_file is not None:
        params["imag_file"] = imag_file
    if fsig_file is not None:
        params["fsig_file"] = fsig_file
    if reg_file is not None:
        params["reg_file"] = reg_file
    if patch is not None:
        params["patch"] = patch
    if tcl_file is not None:
        params["tcl_file"] = tcl_file
    return params


def rtview_validate(
    params: typing.Any,
) -> None:
    """
    Validate parameters. Throws an error if `params` is not a valid
    `RtviewParamsDict` object.
    
    Args:
        params: The parameters object to validate.
    """
    if params is None or not isinstance(params, dict):
        raise StyxValidationError(f'Params object has the wrong type \'{type(params)}\'')
    if params.get("subject", None) is not None:
        if not isinstance(params["subject"], str):
            raise StyxValidationError(f'`subject` has the wrong type: Received `{type(params.get("subject", None))}` expected `str | None`')
    if params.get("hemi", None) is not None:
        if not isinstance(params["hemi"], str):
            raise StyxValidationError(f'`hemi` has the wrong type: Received `{type(params.get("hemi", None))}` expected `str | None`')
    if params.get("left_hemi", False) is None:
        raise StyxValidationError("`left_hemi` must not be None")
    if not isinstance(params["left_hemi"], bool):
        raise StyxValidationError(f'`left_hemi` has the wrong type: Received `{type(params.get("left_hemi", False))}` expected `bool`')
    if params.get("right_hemi", False) is None:
        raise StyxValidationError("`right_hemi` must not be None")
    if not isinstance(params["right_hemi"], bool):
        raise StyxValidationError(f'`right_hemi` has the wrong type: Received `{type(params.get("right_hemi", False))}` expected `bool`')
    if params.get("eccen", False) is None:
        raise StyxValidationError("`eccen` must not be None")
    if not isinstance(params["eccen"], bool):
        raise StyxValidationError(f'`eccen` has the wrong type: Received `{type(params.get("eccen", False))}` expected `bool`')
    if params.get("polar", False) is None:
        raise StyxValidationError("`polar` must not be None")
    if not isinstance(params["polar"], bool):
        raise StyxValidationError(f'`polar` has the wrong type: Received `{type(params.get("polar", False))}` expected `bool`')
    if params.get("real_file", None) is not None:
        if not isinstance(params["real_file"], (pathlib.Path, str)):
            raise StyxValidationError(f'`real_file` has the wrong type: Received `{type(params.get("real_file", None))}` expected `InputPathType | None`')
    if params.get("imag_file", None) is not None:
        if not isinstance(params["imag_file"], (pathlib.Path, str)):
            raise StyxValidationError(f'`imag_file` has the wrong type: Received `{type(params.get("imag_file", None))}` expected `InputPathType | None`')
    if params.get("fsig_file", None) is not None:
        if not isinstance(params["fsig_file"], (pathlib.Path, str)):
            raise StyxValidationError(f'`fsig_file` has the wrong type: Received `{type(params.get("fsig_file", None))}` expected `InputPathType | None`')
    if params.get("reg_file", None) is not None:
        if not isinstance(params["reg_file"], (pathlib.Path, str)):
            raise StyxValidationError(f'`reg_file` has the wrong type: Received `{type(params.get("reg_file", None))}` expected `InputPathType | None`')
    if params.get("flat_display", False) is None:
        raise StyxValidationError("`flat_display` must not be None")
    if not isinstance(params["flat_display"], bool):
        raise StyxValidationError(f'`flat_display` has the wrong type: Received `{type(params.get("flat_display", False))}` expected `bool`')
    if params.get("patch", None) is not None:
        if not isinstance(params["patch"], str):
            raise StyxValidationError(f'`patch` has the wrong type: Received `{type(params.get("patch", None))}` expected `str | None`')
    if params.get("tcl_file", None) is not None:
        if not isinstance(params["tcl_file"], (pathlib.Path, str)):
            raise StyxValidationError(f'`tcl_file` has the wrong type: Received `{type(params.get("tcl_file", None))}` expected `InputPathType | None`')
    if params.get("no_cleanup", False) is None:
        raise StyxValidationError("`no_cleanup` must not be None")
    if not isinstance(params["no_cleanup"], bool):
        raise StyxValidationError(f'`no_cleanup` has the wrong type: Received `{type(params.get("no_cleanup", False))}` expected `bool`')


def rtview_cargs(
    params: RtviewParamsDict,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.append("rtview")
    if params.get("subject", None) is not None:
        cargs.extend([
            "--s",
            params.get("subject", None)
        ])
    if params.get("hemi", None) is not None:
        cargs.extend([
            "--hemi",
            params.get("hemi", None)
        ])
    if params.get("left_hemi", False):
        cargs.append("--lh")
    if params.get("right_hemi", False):
        cargs.append("--rh")
    if params.get("eccen", False):
        cargs.append("--eccen")
    if params.get("polar", False):
        cargs.append("--polar")
    if params.get("real_file", None) is not None:
        cargs.extend([
            "--real",
            execution.input_file(params.get("real_file", None))
        ])
    if params.get("imag_file", None) is not None:
        cargs.extend([
            "--imag",
            execution.input_file(params.get("imag_file", None))
        ])
    if params.get("fsig_file", None) is not None:
        cargs.extend([
            "--fsig",
            execution.input_file(params.get("fsig_file", None))
        ])
    if params.get("reg_file", None) is not None:
        cargs.extend([
            "--reg",
            execution.input_file(params.get("reg_file", None))
        ])
    if params.get("flat_display", False):
        cargs.append("--flat")
    if params.get("patch", None) is not None:
        cargs.extend([
            "--patch",
            params.get("patch", None)
        ])
    if params.get("tcl_file", None) is not None:
        cargs.extend([
            "--tcl",
            execution.input_file(params.get("tcl_file", None))
        ])
    if params.get("no_cleanup", False):
        cargs.append("--no-cleanup")
    return cargs


def rtview_outputs(
    params: RtviewParamsDict,
    execution: Execution,
) -> RtviewOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = RtviewOutputs(
        root=execution.output_file("."),
    )
    return ret


def rtview_execute(
    params: RtviewParamsDict,
    runner: Runner | None = None,
) -> RtviewOutputs:
    """
    rtview
    
    View FSFAST version 5 retinotopy data using the color wheel. This is a
    front-end for tksurfer, setting up the environment for using the color
    wheel.
    
    Author: FreeSurfer Developers
    
    URL: https://github.com/freesurfer/freesurfer
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `RtviewOutputs`).
    """
    rtview_validate(params)
    runner = runner or get_global_runner()
    execution = runner.start_execution(RTVIEW_METADATA)
    params = execution.params(params)
    cargs = rtview_cargs(params, execution)
    ret = rtview_outputs(params, execution)
    execution.run(cargs)
    return ret


def rtview(
    subject: str | None = None,
    hemi: str | None = None,
    left_hemi: bool = False,
    right_hemi: bool = False,
    eccen: bool = False,
    polar: bool = False,
    real_file: InputPathType | None = None,
    imag_file: InputPathType | None = None,
    fsig_file: InputPathType | None = None,
    reg_file: InputPathType | None = None,
    flat_display: bool = False,
    patch: str | None = None,
    tcl_file: InputPathType | None = None,
    no_cleanup: bool = False,
    runner: Runner | None = None,
) -> RtviewOutputs:
    """
    rtview
    
    View FSFAST version 5 retinotopy data using the color wheel. This is a
    front-end for tksurfer, setting up the environment for using the color
    wheel.
    
    Author: FreeSurfer Developers
    
    URL: https://github.com/freesurfer/freesurfer
    
    Args:
        subject: Subject to use as display.
        hemi: Hemisphere to display: 'lh' for left hemisphere or 'rh' for right\
            hemisphere.
        left_hemi: Display left hemisphere.
        right_hemi: Display right hemisphere.
        eccen: Display eccentricity data.
        polar: Display polar data.
        real_file: File containing real (cosine) values.
        imag_file: File containing imaginary (sine) values.
        fsig_file: File containing significance values.
        reg_file: Registration file for when real/imag/fsig are volumes.
        flat_display: Display on occip.patch.flat.
        patch: Display on specified patchname.
        tcl_file: Use your own TCL command file.
        no_cleanup: Don't delete temporary directory.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `RtviewOutputs`).
    """
    params = rtview_params(
        subject=subject,
        hemi=hemi,
        left_hemi=left_hemi,
        right_hemi=right_hemi,
        eccen=eccen,
        polar=polar,
        real_file=real_file,
        imag_file=imag_file,
        fsig_file=fsig_file,
        reg_file=reg_file,
        flat_display=flat_display,
        patch=patch,
        tcl_file=tcl_file,
        no_cleanup=no_cleanup,
    )
    return rtview_execute(params, runner)


__all__ = [
    "RTVIEW_METADATA",
    "RtviewOutputs",
    "RtviewParamsDict",
    "RtviewParamsDictTagged",
    "rtview",
    "rtview_execute",
    "rtview_params",
]
