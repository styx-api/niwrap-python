# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

MAKEVOL_METADATA = Metadata(
    id="8802efdad5a767387b2e4e04a7189b59ea97e217.boutiques",
    name="makevol",
    package="freesurfer",
    container_image_tag="freesurfer/freesurfer:7.4.1",
)


_MakevolParamsDictNoTag = typing.TypedDict('_MakevolParamsDictNoTag', {
    "filename": typing.NotRequired[str | None],
    "width": typing.NotRequired[int | None],
    "height": typing.NotRequired[int | None],
    "depth": typing.NotRequired[int | None],
    "sizex": typing.NotRequired[float | None],
    "sizey": typing.NotRequired[float | None],
    "sizez": typing.NotRequired[float | None],
    "set_method": typing.NotRequired[str | None],
})
MakevolParamsDictTagged = typing.TypedDict('MakevolParamsDictTagged', {
    "@type": typing.Literal["freesurfer/makevol"],
    "filename": typing.NotRequired[str | None],
    "width": typing.NotRequired[int | None],
    "height": typing.NotRequired[int | None],
    "depth": typing.NotRequired[int | None],
    "sizex": typing.NotRequired[float | None],
    "sizey": typing.NotRequired[float | None],
    "sizez": typing.NotRequired[float | None],
    "set_method": typing.NotRequired[str | None],
})
MakevolParamsDict = _MakevolParamsDictNoTag | MakevolParamsDictTagged


class MakevolOutputs(typing.NamedTuple):
    """
    Output object returned when calling `MakevolParamsDict(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""
    output_file: OutputPathType | None
    """The created volume file."""


def makevol_params(
    filename: str | None = None,
    width: int | None = None,
    height: int | None = None,
    depth: int | None = None,
    sizex: float | None = None,
    sizey: float | None = None,
    sizez: float | None = None,
    set_method: str | None = None,
) -> MakevolParamsDictTagged:
    """
    Build parameters.
    
    Args:
        filename: Write volume to the given file name, implying type.
        width: Use integer WIDTH as the x dimension.
        height: Use integer HEIGHT as the y dimension.
        depth: Use integer DEPTH as the z dimension.
        sizex: Use float SIZEX as the x resolution.
        sizey: Use float SIZEY as the y resolution.
        sizez: Use float SIZEZ as the z resolution.
        set_method: Use METHOD to fill the values. Methods: xyz, random,\
            constant.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "freesurfer/makevol",
    }
    if filename is not None:
        params["filename"] = filename
    if width is not None:
        params["width"] = width
    if height is not None:
        params["height"] = height
    if depth is not None:
        params["depth"] = depth
    if sizex is not None:
        params["sizex"] = sizex
    if sizey is not None:
        params["sizey"] = sizey
    if sizez is not None:
        params["sizez"] = sizez
    if set_method is not None:
        params["set_method"] = set_method
    return params


def makevol_validate(
    params: typing.Any,
) -> None:
    """
    Validate parameters. Throws an error if `params` is not a valid
    `MakevolParamsDict` object.
    
    Args:
        params: The parameters object to validate.
    """
    if params is None or not isinstance(params, dict):
        raise StyxValidationError(f'Params object has the wrong type \'{type(params)}\'')
    if params.get("filename", None) is not None:
        if not isinstance(params["filename"], str):
            raise StyxValidationError(f'`filename` has the wrong type: Received `{type(params.get("filename", None))}` expected `str | None`')
    if params.get("width", None) is not None:
        if not isinstance(params["width"], int):
            raise StyxValidationError(f'`width` has the wrong type: Received `{type(params.get("width", None))}` expected `int | None`')
    if params.get("height", None) is not None:
        if not isinstance(params["height"], int):
            raise StyxValidationError(f'`height` has the wrong type: Received `{type(params.get("height", None))}` expected `int | None`')
    if params.get("depth", None) is not None:
        if not isinstance(params["depth"], int):
            raise StyxValidationError(f'`depth` has the wrong type: Received `{type(params.get("depth", None))}` expected `int | None`')
    if params.get("sizex", None) is not None:
        if not isinstance(params["sizex"], (float, int)):
            raise StyxValidationError(f'`sizex` has the wrong type: Received `{type(params.get("sizex", None))}` expected `float | None`')
    if params.get("sizey", None) is not None:
        if not isinstance(params["sizey"], (float, int)):
            raise StyxValidationError(f'`sizey` has the wrong type: Received `{type(params.get("sizey", None))}` expected `float | None`')
    if params.get("sizez", None) is not None:
        if not isinstance(params["sizez"], (float, int)):
            raise StyxValidationError(f'`sizez` has the wrong type: Received `{type(params.get("sizez", None))}` expected `float | None`')
    if params.get("set_method", None) is not None:
        if not isinstance(params["set_method"], str):
            raise StyxValidationError(f'`set_method` has the wrong type: Received `{type(params.get("set_method", None))}` expected `str | None`')


def makevol_cargs(
    params: MakevolParamsDict,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.append("makevol")
    if params.get("filename", None) is not None:
        cargs.extend([
            "-f",
            params.get("filename", None)
        ])
    if params.get("width", None) is not None:
        cargs.extend([
            "-x",
            str(params.get("width", None))
        ])
    if params.get("height", None) is not None:
        cargs.extend([
            "-y",
            str(params.get("height", None))
        ])
    if params.get("depth", None) is not None:
        cargs.extend([
            "-z",
            str(params.get("depth", None))
        ])
    if params.get("sizex", None) is not None:
        cargs.extend([
            "--sizex",
            str(params.get("sizex", None))
        ])
    if params.get("sizey", None) is not None:
        cargs.extend([
            "--sizey",
            str(params.get("sizey", None))
        ])
    if params.get("sizez", None) is not None:
        cargs.extend([
            "--sizez",
            str(params.get("sizez", None))
        ])
    if params.get("set_method", None) is not None:
        cargs.extend([
            "--set-method",
            params.get("set_method", None)
        ])
    return cargs


def makevol_outputs(
    params: MakevolParamsDict,
    execution: Execution,
) -> MakevolOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = MakevolOutputs(
        root=execution.output_file("."),
        output_file=execution.output_file(params.get("filename", None)) if (params.get("filename") is not None) else None,
    )
    return ret


def makevol_execute(
    params: MakevolParamsDict,
    runner: Runner | None = None,
) -> MakevolOutputs:
    """
    makevol
    
    A tool to create a volume with given parameters.
    
    Author: FreeSurfer Developers
    
    URL: https://github.com/freesurfer/freesurfer
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `MakevolOutputs`).
    """
    makevol_validate(params)
    runner = runner or get_global_runner()
    execution = runner.start_execution(MAKEVOL_METADATA)
    params = execution.params(params)
    cargs = makevol_cargs(params, execution)
    ret = makevol_outputs(params, execution)
    execution.run(cargs)
    return ret


def makevol(
    filename: str | None = None,
    width: int | None = None,
    height: int | None = None,
    depth: int | None = None,
    sizex: float | None = None,
    sizey: float | None = None,
    sizez: float | None = None,
    set_method: str | None = None,
    runner: Runner | None = None,
) -> MakevolOutputs:
    """
    makevol
    
    A tool to create a volume with given parameters.
    
    Author: FreeSurfer Developers
    
    URL: https://github.com/freesurfer/freesurfer
    
    Args:
        filename: Write volume to the given file name, implying type.
        width: Use integer WIDTH as the x dimension.
        height: Use integer HEIGHT as the y dimension.
        depth: Use integer DEPTH as the z dimension.
        sizex: Use float SIZEX as the x resolution.
        sizey: Use float SIZEY as the y resolution.
        sizez: Use float SIZEZ as the z resolution.
        set_method: Use METHOD to fill the values. Methods: xyz, random,\
            constant.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `MakevolOutputs`).
    """
    params = makevol_params(
        filename=filename,
        width=width,
        height=height,
        depth=depth,
        sizex=sizex,
        sizey=sizey,
        sizez=sizez,
        set_method=set_method,
    )
    return makevol_execute(params, runner)


__all__ = [
    "MAKEVOL_METADATA",
    "MakevolOutputs",
    "MakevolParamsDict",
    "MakevolParamsDictTagged",
    "makevol",
    "makevol_execute",
    "makevol_params",
]
