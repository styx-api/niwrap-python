# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

MRIS_MULTIMODAL_METADATA = Metadata(
    id="e3efa26567b53a98c02ce5d99d25b2ca7ca916fb.boutiques",
    name="mris_multimodal",
    package="freesurfer",
    container_image_tag="freesurfer/freesurfer:7.4.1",
)


_MrisMultimodalParamsDictNoTag = typing.TypedDict('_MrisMultimodalParamsDictNoTag', {
    "input_surface": InputPathType,
    "target_surface": InputPathType,
    "output_surface": str,
    "fill_holes": bool,
    "curvature": bool,
    "thickness": bool,
    "annotation_output": str,
    "overlay_output": str,
    "csv_output": str,
    "vtk_output": bool,
})
MrisMultimodalParamsDictTagged = typing.TypedDict('MrisMultimodalParamsDictTagged', {
    "@type": typing.Literal["freesurfer/mris_multimodal"],
    "input_surface": InputPathType,
    "target_surface": InputPathType,
    "output_surface": str,
    "fill_holes": bool,
    "curvature": bool,
    "thickness": bool,
    "annotation_output": str,
    "overlay_output": str,
    "csv_output": str,
    "vtk_output": bool,
})
MrisMultimodalParamsDict = _MrisMultimodalParamsDictNoTag | MrisMultimodalParamsDictTagged


class MrisMultimodalOutputs(typing.NamedTuple):
    """
    Output object returned when calling `MrisMultimodalParamsDict(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""
    processed_output_surface: OutputPathType
    """Processed output surface file."""
    annotation_output_file: OutputPathType
    """Output file containing annotation data."""
    overlay_output_file: OutputPathType
    """Output file containing overlay data."""
    csv_output_file: OutputPathType
    """Output CSV file."""


def mris_multimodal_params(
    input_surface: InputPathType,
    target_surface: InputPathType,
    output_surface: str,
    annotation_output: str,
    overlay_output: str,
    csv_output: str,
    fill_holes: bool = False,
    curvature: bool = False,
    thickness: bool = False,
    vtk_output: bool = False,
) -> MrisMultimodalParamsDictTagged:
    """
    Build parameters.
    
    Args:
        input_surface: Input surface file.
        target_surface: Target surface file.
        output_surface: Output surface file.
        annotation_output: Output file for annotation data.
        overlay_output: Output file for overlay data.
        csv_output: Output CSV file.
        fill_holes: Flag to fill holes in the surface.
        curvature: Flag to process curvature data.
        thickness: Flag to process thickness data.
        vtk_output: Flag to output VTK file format.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "freesurfer/mris_multimodal",
        "input_surface": input_surface,
        "target_surface": target_surface,
        "output_surface": output_surface,
        "fill_holes": fill_holes,
        "curvature": curvature,
        "thickness": thickness,
        "annotation_output": annotation_output,
        "overlay_output": overlay_output,
        "csv_output": csv_output,
        "vtk_output": vtk_output,
    }
    return params


def mris_multimodal_validate(
    params: typing.Any,
) -> None:
    """
    Validate parameters. Throws an error if `params` is not a valid
    `MrisMultimodalParamsDict` object.
    
    Args:
        params: The parameters object to validate.
    """
    if params is None or not isinstance(params, dict):
        raise StyxValidationError(f'Params object has the wrong type \'{type(params)}\'')
    if params.get("input_surface", None) is None:
        raise StyxValidationError("`input_surface` must not be None")
    if not isinstance(params["input_surface"], (pathlib.Path, str)):
        raise StyxValidationError(f'`input_surface` has the wrong type: Received `{type(params.get("input_surface", None))}` expected `InputPathType`')
    if params.get("target_surface", None) is None:
        raise StyxValidationError("`target_surface` must not be None")
    if not isinstance(params["target_surface"], (pathlib.Path, str)):
        raise StyxValidationError(f'`target_surface` has the wrong type: Received `{type(params.get("target_surface", None))}` expected `InputPathType`')
    if params.get("output_surface", None) is None:
        raise StyxValidationError("`output_surface` must not be None")
    if not isinstance(params["output_surface"], str):
        raise StyxValidationError(f'`output_surface` has the wrong type: Received `{type(params.get("output_surface", None))}` expected `str`')
    if params.get("fill_holes", False) is None:
        raise StyxValidationError("`fill_holes` must not be None")
    if not isinstance(params["fill_holes"], bool):
        raise StyxValidationError(f'`fill_holes` has the wrong type: Received `{type(params.get("fill_holes", False))}` expected `bool`')
    if params.get("curvature", False) is None:
        raise StyxValidationError("`curvature` must not be None")
    if not isinstance(params["curvature"], bool):
        raise StyxValidationError(f'`curvature` has the wrong type: Received `{type(params.get("curvature", False))}` expected `bool`')
    if params.get("thickness", False) is None:
        raise StyxValidationError("`thickness` must not be None")
    if not isinstance(params["thickness"], bool):
        raise StyxValidationError(f'`thickness` has the wrong type: Received `{type(params.get("thickness", False))}` expected `bool`')
    if params.get("annotation_output", None) is None:
        raise StyxValidationError("`annotation_output` must not be None")
    if not isinstance(params["annotation_output"], str):
        raise StyxValidationError(f'`annotation_output` has the wrong type: Received `{type(params.get("annotation_output", None))}` expected `str`')
    if params.get("overlay_output", None) is None:
        raise StyxValidationError("`overlay_output` must not be None")
    if not isinstance(params["overlay_output"], str):
        raise StyxValidationError(f'`overlay_output` has the wrong type: Received `{type(params.get("overlay_output", None))}` expected `str`')
    if params.get("csv_output", None) is None:
        raise StyxValidationError("`csv_output` must not be None")
    if not isinstance(params["csv_output"], str):
        raise StyxValidationError(f'`csv_output` has the wrong type: Received `{type(params.get("csv_output", None))}` expected `str`')
    if params.get("vtk_output", False) is None:
        raise StyxValidationError("`vtk_output` must not be None")
    if not isinstance(params["vtk_output"], bool):
        raise StyxValidationError(f'`vtk_output` has the wrong type: Received `{type(params.get("vtk_output", False))}` expected `bool`')


def mris_multimodal_cargs(
    params: MrisMultimodalParamsDict,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.append("mris_multimodal")
    cargs.extend([
        "-i",
        execution.input_file(params.get("input_surface", None))
    ])
    cargs.extend([
        "-t",
        execution.input_file(params.get("target_surface", None))
    ])
    cargs.extend([
        "-o",
        params.get("output_surface", None)
    ])
    if params.get("fill_holes", False):
        cargs.append("-fillHoles")
    if params.get("curvature", False):
        cargs.append("--curvature")
    if params.get("thickness", False):
        cargs.append("--thickness")
    cargs.extend([
        "-a",
        params.get("annotation_output", None)
    ])
    cargs.extend([
        "-v",
        params.get("overlay_output", None)
    ])
    cargs.extend([
        "-c",
        params.get("csv_output", None)
    ])
    if params.get("vtk_output", False):
        cargs.append("-vtk")
    return cargs


def mris_multimodal_outputs(
    params: MrisMultimodalParamsDict,
    execution: Execution,
) -> MrisMultimodalOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = MrisMultimodalOutputs(
        root=execution.output_file("."),
        processed_output_surface=execution.output_file(params.get("output_surface", None)),
        annotation_output_file=execution.output_file(params.get("annotation_output", None)),
        overlay_output_file=execution.output_file(params.get("overlay_output", None)),
        csv_output_file=execution.output_file(params.get("csv_output", None)),
    )
    return ret


def mris_multimodal_execute(
    params: MrisMultimodalParamsDict,
    runner: Runner | None = None,
) -> MrisMultimodalOutputs:
    """
    mris_multimodal
    
    A FreeSurfer tool for processing multimodal surface data.
    
    Author: FreeSurfer Developers
    
    URL: https://github.com/freesurfer/freesurfer
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `MrisMultimodalOutputs`).
    """
    mris_multimodal_validate(params)
    runner = runner or get_global_runner()
    execution = runner.start_execution(MRIS_MULTIMODAL_METADATA)
    params = execution.params(params)
    cargs = mris_multimodal_cargs(params, execution)
    ret = mris_multimodal_outputs(params, execution)
    execution.run(cargs)
    return ret


def mris_multimodal(
    input_surface: InputPathType,
    target_surface: InputPathType,
    output_surface: str,
    annotation_output: str,
    overlay_output: str,
    csv_output: str,
    fill_holes: bool = False,
    curvature: bool = False,
    thickness: bool = False,
    vtk_output: bool = False,
    runner: Runner | None = None,
) -> MrisMultimodalOutputs:
    """
    mris_multimodal
    
    A FreeSurfer tool for processing multimodal surface data.
    
    Author: FreeSurfer Developers
    
    URL: https://github.com/freesurfer/freesurfer
    
    Args:
        input_surface: Input surface file.
        target_surface: Target surface file.
        output_surface: Output surface file.
        annotation_output: Output file for annotation data.
        overlay_output: Output file for overlay data.
        csv_output: Output CSV file.
        fill_holes: Flag to fill holes in the surface.
        curvature: Flag to process curvature data.
        thickness: Flag to process thickness data.
        vtk_output: Flag to output VTK file format.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `MrisMultimodalOutputs`).
    """
    params = mris_multimodal_params(
        input_surface=input_surface,
        target_surface=target_surface,
        output_surface=output_surface,
        fill_holes=fill_holes,
        curvature=curvature,
        thickness=thickness,
        annotation_output=annotation_output,
        overlay_output=overlay_output,
        csv_output=csv_output,
        vtk_output=vtk_output,
    )
    return mris_multimodal_execute(params, runner)


__all__ = [
    "MRIS_MULTIMODAL_METADATA",
    "MrisMultimodalOutputs",
    "MrisMultimodalParamsDict",
    "MrisMultimodalParamsDictTagged",
    "mris_multimodal",
    "mris_multimodal_execute",
    "mris_multimodal_params",
]
