# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

MRIS_MAKE_SURFACES_METADATA = Metadata(
    id="36ff6c0edb12328be3d153dae59653becc455777.boutiques",
    name="mris_make_surfaces",
    package="freesurfer",
    container_image_tag="freesurfer/freesurfer:7.4.1",
)


_MrisMakeSurfacesParamsDictNoTag = typing.TypedDict('_MrisMakeSurfacesParamsDictNoTag', {
    "subject_name": str,
    "hemisphere": str,
    "white": typing.NotRequired[str | None],
    "pial": typing.NotRequired[str | None],
    "whiteonly": bool,
    "nowhite": bool,
    "orig_white": typing.NotRequired[str | None],
    "orig_pial": typing.NotRequired[str | None],
    "q": bool,
    "max_gray_scale": typing.NotRequired[float | None],
    "c": bool,
    "cortex": typing.NotRequired[float | None],
    "w": typing.NotRequired[float | None],
    "first_wm_peak": bool,
    "a_avgs": typing.NotRequired[float | None],
    "pa_avgs": typing.NotRequired[float | None],
    "wa_avgs": typing.NotRequired[float | None],
    "t1_vol": typing.NotRequired[str | None],
    "w_vol": typing.NotRequired[str | None],
    "long": bool,
    "dura_thresh": typing.NotRequired[float | None],
    "sdir": typing.NotRequired[str | None],
    "erase_cerebellum": bool,
    "wm_weight": typing.NotRequired[float | None],
    "nsigma_above": typing.NotRequired[float | None],
    "nsigma_below": typing.NotRequired[float | None],
    "t2_min_inside": typing.NotRequired[float | None],
    "t2_max_inside": typing.NotRequired[float | None],
    "t2_outside_min": typing.NotRequired[float | None],
    "t2_outside_max": typing.NotRequired[float | None],
    "min_peak_pct": typing.NotRequired[float | None],
    "border_vals_hires": bool,
    "no_unitize": bool,
    "intensity": typing.NotRequired[float | None],
    "curv": typing.NotRequired[float | None],
    "tspring": typing.NotRequired[float | None],
    "nspring": typing.NotRequired[float | None],
    "repulse": typing.NotRequired[float | None],
    "save_target": bool,
    "save_res": bool,
    "v_vertexno": typing.NotRequired[float | None],
    "diag_vertex": typing.NotRequired[float | None],
    "rip": typing.NotRequired[str | None],
    "sigma_white": typing.NotRequired[str | None],
    "sigma_pial": typing.NotRequired[str | None],
    "output": typing.NotRequired[str | None],
    "min_border_white": typing.NotRequired[float | None],
    "max_border_white": typing.NotRequired[float | None],
    "min_gray_white_border": typing.NotRequired[float | None],
    "max_gray": typing.NotRequired[float | None],
    "max_gray_csf_border": typing.NotRequired[float | None],
    "min_gray_csf_border": typing.NotRequired[float | None],
    "max_csf": typing.NotRequired[float | None],
})
MrisMakeSurfacesParamsDictTagged = typing.TypedDict('MrisMakeSurfacesParamsDictTagged', {
    "@type": typing.Literal["freesurfer/mris_make_surfaces"],
    "subject_name": str,
    "hemisphere": str,
    "white": typing.NotRequired[str | None],
    "pial": typing.NotRequired[str | None],
    "whiteonly": bool,
    "nowhite": bool,
    "orig_white": typing.NotRequired[str | None],
    "orig_pial": typing.NotRequired[str | None],
    "q": bool,
    "max_gray_scale": typing.NotRequired[float | None],
    "c": bool,
    "cortex": typing.NotRequired[float | None],
    "w": typing.NotRequired[float | None],
    "first_wm_peak": bool,
    "a_avgs": typing.NotRequired[float | None],
    "pa_avgs": typing.NotRequired[float | None],
    "wa_avgs": typing.NotRequired[float | None],
    "t1_vol": typing.NotRequired[str | None],
    "w_vol": typing.NotRequired[str | None],
    "long": bool,
    "dura_thresh": typing.NotRequired[float | None],
    "sdir": typing.NotRequired[str | None],
    "erase_cerebellum": bool,
    "wm_weight": typing.NotRequired[float | None],
    "nsigma_above": typing.NotRequired[float | None],
    "nsigma_below": typing.NotRequired[float | None],
    "t2_min_inside": typing.NotRequired[float | None],
    "t2_max_inside": typing.NotRequired[float | None],
    "t2_outside_min": typing.NotRequired[float | None],
    "t2_outside_max": typing.NotRequired[float | None],
    "min_peak_pct": typing.NotRequired[float | None],
    "border_vals_hires": bool,
    "no_unitize": bool,
    "intensity": typing.NotRequired[float | None],
    "curv": typing.NotRequired[float | None],
    "tspring": typing.NotRequired[float | None],
    "nspring": typing.NotRequired[float | None],
    "repulse": typing.NotRequired[float | None],
    "save_target": bool,
    "save_res": bool,
    "v_vertexno": typing.NotRequired[float | None],
    "diag_vertex": typing.NotRequired[float | None],
    "rip": typing.NotRequired[str | None],
    "sigma_white": typing.NotRequired[str | None],
    "sigma_pial": typing.NotRequired[str | None],
    "output": typing.NotRequired[str | None],
    "min_border_white": typing.NotRequired[float | None],
    "max_border_white": typing.NotRequired[float | None],
    "min_gray_white_border": typing.NotRequired[float | None],
    "max_gray": typing.NotRequired[float | None],
    "max_gray_csf_border": typing.NotRequired[float | None],
    "min_gray_csf_border": typing.NotRequired[float | None],
    "max_csf": typing.NotRequired[float | None],
})
MrisMakeSurfacesParamsDict = _MrisMakeSurfacesParamsDictNoTag | MrisMakeSurfacesParamsDictTagged


class MrisMakeSurfacesOutputs(typing.NamedTuple):
    """
    Output object returned when calling `MrisMakeSurfacesParamsDict(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""


def mris_make_surfaces_params(
    subject_name: str,
    hemisphere: str,
    white: str | None = None,
    pial: str | None = None,
    whiteonly: bool = False,
    nowhite: bool = False,
    orig_white: str | None = None,
    orig_pial: str | None = None,
    q: bool = False,
    max_gray_scale: float | None = None,
    c: bool = False,
    cortex: float | None = None,
    w: float | None = None,
    first_wm_peak: bool = False,
    a_avgs: float | None = None,
    pa_avgs: float | None = None,
    wa_avgs: float | None = None,
    t1_vol: str | None = None,
    w_vol: str | None = None,
    long: bool = False,
    dura_thresh: float | None = None,
    sdir: str | None = None,
    erase_cerebellum: bool = False,
    wm_weight: float | None = None,
    nsigma_above: float | None = None,
    nsigma_below: float | None = None,
    t2_min_inside: float | None = None,
    t2_max_inside: float | None = None,
    t2_outside_min: float | None = None,
    t2_outside_max: float | None = None,
    min_peak_pct: float | None = None,
    border_vals_hires: bool = False,
    no_unitize: bool = False,
    intensity: float | None = None,
    curv: float | None = None,
    tspring: float | None = None,
    nspring: float | None = None,
    repulse: float | None = None,
    save_target: bool = False,
    save_res: bool = False,
    v_vertexno: float | None = None,
    diag_vertex: float | None = None,
    rip: str | None = None,
    sigma_white: str | None = None,
    sigma_pial: str | None = None,
    output: str | None = None,
    min_border_white: float | None = None,
    max_border_white: float | None = None,
    min_gray_white_border: float | None = None,
    max_gray: float | None = None,
    max_gray_csf_border: float | None = None,
    min_gray_csf_border: float | None = None,
    max_csf: float | None = None,
) -> MrisMakeSurfacesParamsDictTagged:
    """
    Build parameters.
    
    Args:
        subject_name: Name of the subject.
        hemisphere: Brain hemisphere (r or l).
        white: Output name for white surface (default is 'white'). Set to\
            NOWHITE to generate but not save white surface.
        pial: Output name for pial surface (default is 'pial').
        whiteonly: Only generate white matter surface.
        nowhite: Only generate pial surface.
        orig_white: Specify a white surface to start with.
        orig_pial: Specify a pial surface to start with.
        q: Omit self-intersection and only generate gray/white surface.
        max_gray_scale: Set maximum gray scale value.
        c: Do not create curvature and area files from white matter surface.
        cortex: Set to 0 to turn off creation of cortex label file.
        w: Unused argument.
        first_wm_peak: Settle WM surface at first peak in intensity profile\
            instead of highest.
        a_avgs: Average curvature values a number of times (default=10).
        pa_avgs: Average pial curvature values a max of a number of times\
            (default=16).
        wa_avgs: Average white curvature values a max of a number of times\
            (default=4).
        t1_vol: Specify T1 volume (default is brain).
        w_vol: Specify white volume and <hires> option.
        long: Run longitudinal analysis.
        dura_thresh: Set a threshold for the multi-echo mprage dura avoidance.
        sdir: Specify SUBJECTS_DIR.
        erase_cerebellum: Erase cerebellar labeled voxels if aseg is loaded.
        wm_weight: Weighting of WM mean in calculating T2 threshold of\
            disallowed GM values, default=3.
        nsigma_above: # of sigmas above the mean to allow gray matter T2\
            intensities.
        nsigma_below: # of sigmas below the mean to allow gray matter T2\
            intensities.
        t2_min_inside: Specify threshold for min T2 value allowed to be\
            interior to the cortical ribbon.
        t2_max_inside: Specify threshold for max T2 value allowed to be\
            interior to the cortical ribbon.
        t2_outside_min: Specify threshold for min T2 value outside of pial\
            surface that will cause surface to deform outwards.
        t2_outside_max: Specify threshold for max T2 value outside of pial\
            surface that will cause surface to deform outwards.
        min_peak_pct: Specify the pct of the histo peak in the local gm\
            histogram to use as threshold for finding the local inside and outside\
            gm thresholds.
        border_vals_hires: Turn on hires options in\
            MRIScomputeBorderValues_new(). May not be helpful.
        no_unitize: Turn off face normal unitization.
        intensity: Set weight of intensity cost.
        curv: Set weight of curvature cost.
        tspring: Set weight of tangential spring cost.
        nspring: Set weight of normal spring cost.
        repulse: Set weight of repulsion force.
        save_target: Save target surface for debugging.
        save_res: Save residual for debugging.
        v_vertexno: Set Gdiag_no to vertex number.
        diag_vertex: Set Gdiag_no to vertex number and turn off writing of\
            cortex label or curvature files.
        rip: Save ripflag as overlay. Specify full path including hemi, suffix,\
            etc.
        sigma_white: Save white surface sigma as overlay. Specify full path\
            including hemi, suffix, etc.
        sigma_pial: Save pial surface sigma as overlay. Specify full path\
            including hemi, suffix, etc.
        output: Append suffix to all outputs to prevent over-writing.
        min_border_white: Minimum border white.
        max_border_white: Maximum border white.
        min_gray_white_border: Minimum gray at white border.
        max_gray: Maximum gray value.
        max_gray_csf_border: Maximum gray at CSF border.
        min_gray_csf_border: Minimum gray at CSF border.
        max_csf: Maximum CSF value.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "freesurfer/mris_make_surfaces",
        "subject_name": subject_name,
        "hemisphere": hemisphere,
        "whiteonly": whiteonly,
        "nowhite": nowhite,
        "q": q,
        "c": c,
        "first_wm_peak": first_wm_peak,
        "long": long,
        "erase_cerebellum": erase_cerebellum,
        "border_vals_hires": border_vals_hires,
        "no_unitize": no_unitize,
        "save_target": save_target,
        "save_res": save_res,
    }
    if white is not None:
        params["white"] = white
    if pial is not None:
        params["pial"] = pial
    if orig_white is not None:
        params["orig_white"] = orig_white
    if orig_pial is not None:
        params["orig_pial"] = orig_pial
    if max_gray_scale is not None:
        params["max_gray_scale"] = max_gray_scale
    if cortex is not None:
        params["cortex"] = cortex
    if w is not None:
        params["w"] = w
    if a_avgs is not None:
        params["a_avgs"] = a_avgs
    if pa_avgs is not None:
        params["pa_avgs"] = pa_avgs
    if wa_avgs is not None:
        params["wa_avgs"] = wa_avgs
    if t1_vol is not None:
        params["t1_vol"] = t1_vol
    if w_vol is not None:
        params["w_vol"] = w_vol
    if dura_thresh is not None:
        params["dura_thresh"] = dura_thresh
    if sdir is not None:
        params["sdir"] = sdir
    if wm_weight is not None:
        params["wm_weight"] = wm_weight
    if nsigma_above is not None:
        params["nsigma_above"] = nsigma_above
    if nsigma_below is not None:
        params["nsigma_below"] = nsigma_below
    if t2_min_inside is not None:
        params["t2_min_inside"] = t2_min_inside
    if t2_max_inside is not None:
        params["t2_max_inside"] = t2_max_inside
    if t2_outside_min is not None:
        params["t2_outside_min"] = t2_outside_min
    if t2_outside_max is not None:
        params["t2_outside_max"] = t2_outside_max
    if min_peak_pct is not None:
        params["min_peak_pct"] = min_peak_pct
    if intensity is not None:
        params["intensity"] = intensity
    if curv is not None:
        params["curv"] = curv
    if tspring is not None:
        params["tspring"] = tspring
    if nspring is not None:
        params["nspring"] = nspring
    if repulse is not None:
        params["repulse"] = repulse
    if v_vertexno is not None:
        params["v_vertexno"] = v_vertexno
    if diag_vertex is not None:
        params["diag_vertex"] = diag_vertex
    if rip is not None:
        params["rip"] = rip
    if sigma_white is not None:
        params["sigma_white"] = sigma_white
    if sigma_pial is not None:
        params["sigma_pial"] = sigma_pial
    if output is not None:
        params["output"] = output
    if min_border_white is not None:
        params["min_border_white"] = min_border_white
    if max_border_white is not None:
        params["max_border_white"] = max_border_white
    if min_gray_white_border is not None:
        params["min_gray_white_border"] = min_gray_white_border
    if max_gray is not None:
        params["max_gray"] = max_gray
    if max_gray_csf_border is not None:
        params["max_gray_csf_border"] = max_gray_csf_border
    if min_gray_csf_border is not None:
        params["min_gray_csf_border"] = min_gray_csf_border
    if max_csf is not None:
        params["max_csf"] = max_csf
    return params


def mris_make_surfaces_validate(
    params: typing.Any,
) -> None:
    """
    Validate parameters. Throws an error if `params` is not a valid
    `MrisMakeSurfacesParamsDict` object.
    
    Args:
        params: The parameters object to validate.
    """
    if params is None or not isinstance(params, dict):
        raise StyxValidationError(f'Params object has the wrong type \'{type(params)}\'')
    if params.get("subject_name", None) is None:
        raise StyxValidationError("`subject_name` must not be None")
    if not isinstance(params["subject_name"], str):
        raise StyxValidationError(f'`subject_name` has the wrong type: Received `{type(params.get("subject_name", None))}` expected `str`')
    if params.get("hemisphere", None) is None:
        raise StyxValidationError("`hemisphere` must not be None")
    if not isinstance(params["hemisphere"], str):
        raise StyxValidationError(f'`hemisphere` has the wrong type: Received `{type(params.get("hemisphere", None))}` expected `str`')
    if params.get("white", None) is not None:
        if not isinstance(params["white"], str):
            raise StyxValidationError(f'`white` has the wrong type: Received `{type(params.get("white", None))}` expected `str | None`')
    if params.get("pial", None) is not None:
        if not isinstance(params["pial"], str):
            raise StyxValidationError(f'`pial` has the wrong type: Received `{type(params.get("pial", None))}` expected `str | None`')
    if params.get("whiteonly", False) is None:
        raise StyxValidationError("`whiteonly` must not be None")
    if not isinstance(params["whiteonly"], bool):
        raise StyxValidationError(f'`whiteonly` has the wrong type: Received `{type(params.get("whiteonly", False))}` expected `bool`')
    if params.get("nowhite", False) is None:
        raise StyxValidationError("`nowhite` must not be None")
    if not isinstance(params["nowhite"], bool):
        raise StyxValidationError(f'`nowhite` has the wrong type: Received `{type(params.get("nowhite", False))}` expected `bool`')
    if params.get("orig_white", None) is not None:
        if not isinstance(params["orig_white"], str):
            raise StyxValidationError(f'`orig_white` has the wrong type: Received `{type(params.get("orig_white", None))}` expected `str | None`')
    if params.get("orig_pial", None) is not None:
        if not isinstance(params["orig_pial"], str):
            raise StyxValidationError(f'`orig_pial` has the wrong type: Received `{type(params.get("orig_pial", None))}` expected `str | None`')
    if params.get("q", False) is None:
        raise StyxValidationError("`q` must not be None")
    if not isinstance(params["q"], bool):
        raise StyxValidationError(f'`q` has the wrong type: Received `{type(params.get("q", False))}` expected `bool`')
    if params.get("max_gray_scale", None) is not None:
        if not isinstance(params["max_gray_scale"], (float, int)):
            raise StyxValidationError(f'`max_gray_scale` has the wrong type: Received `{type(params.get("max_gray_scale", None))}` expected `float | None`')
    if params.get("c", False) is None:
        raise StyxValidationError("`c` must not be None")
    if not isinstance(params["c"], bool):
        raise StyxValidationError(f'`c` has the wrong type: Received `{type(params.get("c", False))}` expected `bool`')
    if params.get("cortex", None) is not None:
        if not isinstance(params["cortex"], (float, int)):
            raise StyxValidationError(f'`cortex` has the wrong type: Received `{type(params.get("cortex", None))}` expected `float | None`')
    if params.get("w", None) is not None:
        if not isinstance(params["w"], (float, int)):
            raise StyxValidationError(f'`w` has the wrong type: Received `{type(params.get("w", None))}` expected `float | None`')
    if params.get("first_wm_peak", False) is None:
        raise StyxValidationError("`first_wm_peak` must not be None")
    if not isinstance(params["first_wm_peak"], bool):
        raise StyxValidationError(f'`first_wm_peak` has the wrong type: Received `{type(params.get("first_wm_peak", False))}` expected `bool`')
    if params.get("a_avgs", None) is not None:
        if not isinstance(params["a_avgs"], (float, int)):
            raise StyxValidationError(f'`a_avgs` has the wrong type: Received `{type(params.get("a_avgs", None))}` expected `float | None`')
    if params.get("pa_avgs", None) is not None:
        if not isinstance(params["pa_avgs"], (float, int)):
            raise StyxValidationError(f'`pa_avgs` has the wrong type: Received `{type(params.get("pa_avgs", None))}` expected `float | None`')
    if params.get("wa_avgs", None) is not None:
        if not isinstance(params["wa_avgs"], (float, int)):
            raise StyxValidationError(f'`wa_avgs` has the wrong type: Received `{type(params.get("wa_avgs", None))}` expected `float | None`')
    if params.get("t1_vol", None) is not None:
        if not isinstance(params["t1_vol"], str):
            raise StyxValidationError(f'`t1_vol` has the wrong type: Received `{type(params.get("t1_vol", None))}` expected `str | None`')
    if params.get("w_vol", None) is not None:
        if not isinstance(params["w_vol"], str):
            raise StyxValidationError(f'`w_vol` has the wrong type: Received `{type(params.get("w_vol", None))}` expected `str | None`')
    if params.get("long", False) is None:
        raise StyxValidationError("`long` must not be None")
    if not isinstance(params["long"], bool):
        raise StyxValidationError(f'`long` has the wrong type: Received `{type(params.get("long", False))}` expected `bool`')
    if params.get("dura_thresh", None) is not None:
        if not isinstance(params["dura_thresh"], (float, int)):
            raise StyxValidationError(f'`dura_thresh` has the wrong type: Received `{type(params.get("dura_thresh", None))}` expected `float | None`')
    if params.get("sdir", None) is not None:
        if not isinstance(params["sdir"], str):
            raise StyxValidationError(f'`sdir` has the wrong type: Received `{type(params.get("sdir", None))}` expected `str | None`')
    if params.get("erase_cerebellum", False) is None:
        raise StyxValidationError("`erase_cerebellum` must not be None")
    if not isinstance(params["erase_cerebellum"], bool):
        raise StyxValidationError(f'`erase_cerebellum` has the wrong type: Received `{type(params.get("erase_cerebellum", False))}` expected `bool`')
    if params.get("wm_weight", None) is not None:
        if not isinstance(params["wm_weight"], (float, int)):
            raise StyxValidationError(f'`wm_weight` has the wrong type: Received `{type(params.get("wm_weight", None))}` expected `float | None`')
    if params.get("nsigma_above", None) is not None:
        if not isinstance(params["nsigma_above"], (float, int)):
            raise StyxValidationError(f'`nsigma_above` has the wrong type: Received `{type(params.get("nsigma_above", None))}` expected `float | None`')
    if params.get("nsigma_below", None) is not None:
        if not isinstance(params["nsigma_below"], (float, int)):
            raise StyxValidationError(f'`nsigma_below` has the wrong type: Received `{type(params.get("nsigma_below", None))}` expected `float | None`')
    if params.get("t2_min_inside", None) is not None:
        if not isinstance(params["t2_min_inside"], (float, int)):
            raise StyxValidationError(f'`t2_min_inside` has the wrong type: Received `{type(params.get("t2_min_inside", None))}` expected `float | None`')
    if params.get("t2_max_inside", None) is not None:
        if not isinstance(params["t2_max_inside"], (float, int)):
            raise StyxValidationError(f'`t2_max_inside` has the wrong type: Received `{type(params.get("t2_max_inside", None))}` expected `float | None`')
    if params.get("t2_outside_min", None) is not None:
        if not isinstance(params["t2_outside_min"], (float, int)):
            raise StyxValidationError(f'`t2_outside_min` has the wrong type: Received `{type(params.get("t2_outside_min", None))}` expected `float | None`')
    if params.get("t2_outside_max", None) is not None:
        if not isinstance(params["t2_outside_max"], (float, int)):
            raise StyxValidationError(f'`t2_outside_max` has the wrong type: Received `{type(params.get("t2_outside_max", None))}` expected `float | None`')
    if params.get("min_peak_pct", None) is not None:
        if not isinstance(params["min_peak_pct"], (float, int)):
            raise StyxValidationError(f'`min_peak_pct` has the wrong type: Received `{type(params.get("min_peak_pct", None))}` expected `float | None`')
    if params.get("border_vals_hires", False) is None:
        raise StyxValidationError("`border_vals_hires` must not be None")
    if not isinstance(params["border_vals_hires"], bool):
        raise StyxValidationError(f'`border_vals_hires` has the wrong type: Received `{type(params.get("border_vals_hires", False))}` expected `bool`')
    if params.get("no_unitize", False) is None:
        raise StyxValidationError("`no_unitize` must not be None")
    if not isinstance(params["no_unitize"], bool):
        raise StyxValidationError(f'`no_unitize` has the wrong type: Received `{type(params.get("no_unitize", False))}` expected `bool`')
    if params.get("intensity", None) is not None:
        if not isinstance(params["intensity"], (float, int)):
            raise StyxValidationError(f'`intensity` has the wrong type: Received `{type(params.get("intensity", None))}` expected `float | None`')
    if params.get("curv", None) is not None:
        if not isinstance(params["curv"], (float, int)):
            raise StyxValidationError(f'`curv` has the wrong type: Received `{type(params.get("curv", None))}` expected `float | None`')
    if params.get("tspring", None) is not None:
        if not isinstance(params["tspring"], (float, int)):
            raise StyxValidationError(f'`tspring` has the wrong type: Received `{type(params.get("tspring", None))}` expected `float | None`')
    if params.get("nspring", None) is not None:
        if not isinstance(params["nspring"], (float, int)):
            raise StyxValidationError(f'`nspring` has the wrong type: Received `{type(params.get("nspring", None))}` expected `float | None`')
    if params.get("repulse", None) is not None:
        if not isinstance(params["repulse"], (float, int)):
            raise StyxValidationError(f'`repulse` has the wrong type: Received `{type(params.get("repulse", None))}` expected `float | None`')
    if params.get("save_target", False) is None:
        raise StyxValidationError("`save_target` must not be None")
    if not isinstance(params["save_target"], bool):
        raise StyxValidationError(f'`save_target` has the wrong type: Received `{type(params.get("save_target", False))}` expected `bool`')
    if params.get("save_res", False) is None:
        raise StyxValidationError("`save_res` must not be None")
    if not isinstance(params["save_res"], bool):
        raise StyxValidationError(f'`save_res` has the wrong type: Received `{type(params.get("save_res", False))}` expected `bool`')
    if params.get("v_vertexno", None) is not None:
        if not isinstance(params["v_vertexno"], (float, int)):
            raise StyxValidationError(f'`v_vertexno` has the wrong type: Received `{type(params.get("v_vertexno", None))}` expected `float | None`')
    if params.get("diag_vertex", None) is not None:
        if not isinstance(params["diag_vertex"], (float, int)):
            raise StyxValidationError(f'`diag_vertex` has the wrong type: Received `{type(params.get("diag_vertex", None))}` expected `float | None`')
    if params.get("rip", None) is not None:
        if not isinstance(params["rip"], str):
            raise StyxValidationError(f'`rip` has the wrong type: Received `{type(params.get("rip", None))}` expected `str | None`')
    if params.get("sigma_white", None) is not None:
        if not isinstance(params["sigma_white"], str):
            raise StyxValidationError(f'`sigma_white` has the wrong type: Received `{type(params.get("sigma_white", None))}` expected `str | None`')
    if params.get("sigma_pial", None) is not None:
        if not isinstance(params["sigma_pial"], str):
            raise StyxValidationError(f'`sigma_pial` has the wrong type: Received `{type(params.get("sigma_pial", None))}` expected `str | None`')
    if params.get("output", None) is not None:
        if not isinstance(params["output"], str):
            raise StyxValidationError(f'`output` has the wrong type: Received `{type(params.get("output", None))}` expected `str | None`')
    if params.get("min_border_white", None) is not None:
        if not isinstance(params["min_border_white"], (float, int)):
            raise StyxValidationError(f'`min_border_white` has the wrong type: Received `{type(params.get("min_border_white", None))}` expected `float | None`')
    if params.get("max_border_white", None) is not None:
        if not isinstance(params["max_border_white"], (float, int)):
            raise StyxValidationError(f'`max_border_white` has the wrong type: Received `{type(params.get("max_border_white", None))}` expected `float | None`')
    if params.get("min_gray_white_border", None) is not None:
        if not isinstance(params["min_gray_white_border"], (float, int)):
            raise StyxValidationError(f'`min_gray_white_border` has the wrong type: Received `{type(params.get("min_gray_white_border", None))}` expected `float | None`')
    if params.get("max_gray", None) is not None:
        if not isinstance(params["max_gray"], (float, int)):
            raise StyxValidationError(f'`max_gray` has the wrong type: Received `{type(params.get("max_gray", None))}` expected `float | None`')
    if params.get("max_gray_csf_border", None) is not None:
        if not isinstance(params["max_gray_csf_border"], (float, int)):
            raise StyxValidationError(f'`max_gray_csf_border` has the wrong type: Received `{type(params.get("max_gray_csf_border", None))}` expected `float | None`')
    if params.get("min_gray_csf_border", None) is not None:
        if not isinstance(params["min_gray_csf_border"], (float, int)):
            raise StyxValidationError(f'`min_gray_csf_border` has the wrong type: Received `{type(params.get("min_gray_csf_border", None))}` expected `float | None`')
    if params.get("max_csf", None) is not None:
        if not isinstance(params["max_csf"], (float, int)):
            raise StyxValidationError(f'`max_csf` has the wrong type: Received `{type(params.get("max_csf", None))}` expected `float | None`')


def mris_make_surfaces_cargs(
    params: MrisMakeSurfacesParamsDict,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.append("mris_make_surfaces")
    cargs.append(params.get("subject_name", None))
    cargs.append(params.get("hemisphere", None))
    if params.get("white", None) is not None:
        cargs.extend([
            "-white",
            params.get("white", None)
        ])
    if params.get("pial", None) is not None:
        cargs.extend([
            "-pial",
            params.get("pial", None)
        ])
    if params.get("whiteonly", False):
        cargs.append("-whiteonly")
    if params.get("nowhite", False):
        cargs.append("-nowhite")
    if params.get("orig_white", None) is not None:
        cargs.extend([
            "-orig_white",
            params.get("orig_white", None)
        ])
    if params.get("orig_pial", None) is not None:
        cargs.extend([
            "-orig_pial",
            params.get("orig_pial", None)
        ])
    if params.get("q", False):
        cargs.append("-q")
    if params.get("max_gray_scale", None) is not None:
        cargs.extend([
            "-max_gray_scale",
            str(params.get("max_gray_scale", None))
        ])
    if params.get("c", False):
        cargs.append("-c")
    if params.get("cortex", None) is not None:
        cargs.extend([
            "-cortex",
            str(params.get("cortex", None))
        ])
    if params.get("w", None) is not None:
        cargs.extend([
            "-w",
            str(params.get("w", None))
        ])
    if params.get("first_wm_peak", False):
        cargs.append("-first_wm_peak")
    if params.get("a_avgs", None) is not None:
        cargs.extend([
            "-a",
            str(params.get("a_avgs", None))
        ])
    if params.get("pa_avgs", None) is not None:
        cargs.extend([
            "-pa",
            str(params.get("pa_avgs", None))
        ])
    if params.get("wa_avgs", None) is not None:
        cargs.extend([
            "-wa",
            str(params.get("wa_avgs", None))
        ])
    if params.get("t1_vol", None) is not None:
        cargs.extend([
            "-T1",
            params.get("t1_vol", None)
        ])
    if params.get("w_vol", None) is not None:
        cargs.extend([
            "-wvol",
            params.get("w_vol", None)
        ])
    if params.get("long", False):
        cargs.append("-long")
    if params.get("dura_thresh", None) is not None:
        cargs.extend([
            "-dura_thresh",
            str(params.get("dura_thresh", None))
        ])
    if params.get("sdir", None) is not None:
        cargs.extend([
            "-SDIR",
            params.get("sdir", None)
        ])
    if params.get("erase_cerebellum", False):
        cargs.append("-erase_cerebellum")
    if params.get("wm_weight", None) is not None:
        cargs.extend([
            "-wm_weight",
            str(params.get("wm_weight", None))
        ])
    if params.get("nsigma_above", None) is not None:
        cargs.extend([
            "-nsigma_above",
            str(params.get("nsigma_above", None))
        ])
    if params.get("nsigma_below", None) is not None:
        cargs.extend([
            "-nsigma_below",
            str(params.get("nsigma_below", None))
        ])
    if params.get("t2_min_inside", None) is not None:
        cargs.extend([
            "-T2_min_inside",
            str(params.get("t2_min_inside", None))
        ])
    if params.get("t2_max_inside", None) is not None:
        cargs.extend([
            "-T2_max_inside",
            str(params.get("t2_max_inside", None))
        ])
    if params.get("t2_outside_min", None) is not None:
        cargs.extend([
            "-T2_outside_min",
            str(params.get("t2_outside_min", None))
        ])
    if params.get("t2_outside_max", None) is not None:
        cargs.extend([
            "-T2_outside_max",
            str(params.get("t2_outside_max", None))
        ])
    if params.get("min_peak_pct", None) is not None:
        cargs.extend([
            "-min_peak_pct",
            str(params.get("min_peak_pct", None))
        ])
    if params.get("border_vals_hires", False):
        cargs.append("-border-vals-hires")
    if params.get("no_unitize", False):
        cargs.append("-no-unitize")
    if params.get("intensity", None) is not None:
        cargs.extend([
            "-intensity",
            str(params.get("intensity", None))
        ])
    if params.get("curv", None) is not None:
        cargs.extend([
            "-curv",
            str(params.get("curv", None))
        ])
    if params.get("tspring", None) is not None:
        cargs.extend([
            "-tspring",
            str(params.get("tspring", None))
        ])
    if params.get("nspring", None) is not None:
        cargs.extend([
            "-nspring",
            str(params.get("nspring", None))
        ])
    if params.get("repulse", None) is not None:
        cargs.extend([
            "-repulse",
            str(params.get("repulse", None))
        ])
    if params.get("save_target", False):
        cargs.append("-save-target")
    if params.get("save_res", False):
        cargs.append("-save-res")
    if params.get("v_vertexno", None) is not None:
        cargs.extend([
            "-v",
            str(params.get("v_vertexno", None))
        ])
    if params.get("diag_vertex", None) is not None:
        cargs.extend([
            "-diag-vertex",
            str(params.get("diag_vertex", None))
        ])
    if params.get("rip", None) is not None:
        cargs.extend([
            "-rip",
            params.get("rip", None)
        ])
    if params.get("sigma_white", None) is not None:
        cargs.extend([
            "-sigma-white",
            params.get("sigma_white", None)
        ])
    if params.get("sigma_pial", None) is not None:
        cargs.extend([
            "-sigma-pial",
            params.get("sigma_pial", None)
        ])
    if params.get("output", None) is not None:
        cargs.extend([
            "-output",
            params.get("output", None)
        ])
    if params.get("min_border_white", None) is not None:
        cargs.extend([
            "-min_border_white",
            str(params.get("min_border_white", None))
        ])
    if params.get("max_border_white", None) is not None:
        cargs.extend([
            "-max_border_white",
            str(params.get("max_border_white", None))
        ])
    if params.get("min_gray_white_border", None) is not None:
        cargs.extend([
            "-min_gray_at_white_border",
            str(params.get("min_gray_white_border", None))
        ])
    if params.get("max_gray", None) is not None:
        cargs.extend([
            "-max_gray",
            str(params.get("max_gray", None))
        ])
    if params.get("max_gray_csf_border", None) is not None:
        cargs.extend([
            "-max_gray_at_csf_border",
            str(params.get("max_gray_csf_border", None))
        ])
    if params.get("min_gray_csf_border", None) is not None:
        cargs.extend([
            "-min_gray_at_csf_border",
            str(params.get("min_gray_csf_border", None))
        ])
    if params.get("max_csf", None) is not None:
        cargs.extend([
            "-max_csf",
            str(params.get("max_csf", None))
        ])
    return cargs


def mris_make_surfaces_outputs(
    params: MrisMakeSurfacesParamsDict,
    execution: Execution,
) -> MrisMakeSurfacesOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = MrisMakeSurfacesOutputs(
        root=execution.output_file("."),
    )
    return ret


def mris_make_surfaces_execute(
    params: MrisMakeSurfacesParamsDict,
    runner: Runner | None = None,
) -> MrisMakeSurfacesOutputs:
    """
    mris_make_surfaces
    
    Positions the tessellation of the cortical surface at the white matter
    surface, then the gray matter surface, generating surface files along with a
    curvature file and a surface file for cortical thickness.
    
    Author: FreeSurfer Developers
    
    URL: https://github.com/freesurfer/freesurfer
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `MrisMakeSurfacesOutputs`).
    """
    mris_make_surfaces_validate(params)
    runner = runner or get_global_runner()
    execution = runner.start_execution(MRIS_MAKE_SURFACES_METADATA)
    params = execution.params(params)
    cargs = mris_make_surfaces_cargs(params, execution)
    ret = mris_make_surfaces_outputs(params, execution)
    execution.run(cargs)
    return ret


def mris_make_surfaces(
    subject_name: str,
    hemisphere: str,
    white: str | None = None,
    pial: str | None = None,
    whiteonly: bool = False,
    nowhite: bool = False,
    orig_white: str | None = None,
    orig_pial: str | None = None,
    q: bool = False,
    max_gray_scale: float | None = None,
    c: bool = False,
    cortex: float | None = None,
    w: float | None = None,
    first_wm_peak: bool = False,
    a_avgs: float | None = None,
    pa_avgs: float | None = None,
    wa_avgs: float | None = None,
    t1_vol: str | None = None,
    w_vol: str | None = None,
    long: bool = False,
    dura_thresh: float | None = None,
    sdir: str | None = None,
    erase_cerebellum: bool = False,
    wm_weight: float | None = None,
    nsigma_above: float | None = None,
    nsigma_below: float | None = None,
    t2_min_inside: float | None = None,
    t2_max_inside: float | None = None,
    t2_outside_min: float | None = None,
    t2_outside_max: float | None = None,
    min_peak_pct: float | None = None,
    border_vals_hires: bool = False,
    no_unitize: bool = False,
    intensity: float | None = None,
    curv: float | None = None,
    tspring: float | None = None,
    nspring: float | None = None,
    repulse: float | None = None,
    save_target: bool = False,
    save_res: bool = False,
    v_vertexno: float | None = None,
    diag_vertex: float | None = None,
    rip: str | None = None,
    sigma_white: str | None = None,
    sigma_pial: str | None = None,
    output: str | None = None,
    min_border_white: float | None = None,
    max_border_white: float | None = None,
    min_gray_white_border: float | None = None,
    max_gray: float | None = None,
    max_gray_csf_border: float | None = None,
    min_gray_csf_border: float | None = None,
    max_csf: float | None = None,
    runner: Runner | None = None,
) -> MrisMakeSurfacesOutputs:
    """
    mris_make_surfaces
    
    Positions the tessellation of the cortical surface at the white matter
    surface, then the gray matter surface, generating surface files along with a
    curvature file and a surface file for cortical thickness.
    
    Author: FreeSurfer Developers
    
    URL: https://github.com/freesurfer/freesurfer
    
    Args:
        subject_name: Name of the subject.
        hemisphere: Brain hemisphere (r or l).
        white: Output name for white surface (default is 'white'). Set to\
            NOWHITE to generate but not save white surface.
        pial: Output name for pial surface (default is 'pial').
        whiteonly: Only generate white matter surface.
        nowhite: Only generate pial surface.
        orig_white: Specify a white surface to start with.
        orig_pial: Specify a pial surface to start with.
        q: Omit self-intersection and only generate gray/white surface.
        max_gray_scale: Set maximum gray scale value.
        c: Do not create curvature and area files from white matter surface.
        cortex: Set to 0 to turn off creation of cortex label file.
        w: Unused argument.
        first_wm_peak: Settle WM surface at first peak in intensity profile\
            instead of highest.
        a_avgs: Average curvature values a number of times (default=10).
        pa_avgs: Average pial curvature values a max of a number of times\
            (default=16).
        wa_avgs: Average white curvature values a max of a number of times\
            (default=4).
        t1_vol: Specify T1 volume (default is brain).
        w_vol: Specify white volume and <hires> option.
        long: Run longitudinal analysis.
        dura_thresh: Set a threshold for the multi-echo mprage dura avoidance.
        sdir: Specify SUBJECTS_DIR.
        erase_cerebellum: Erase cerebellar labeled voxels if aseg is loaded.
        wm_weight: Weighting of WM mean in calculating T2 threshold of\
            disallowed GM values, default=3.
        nsigma_above: # of sigmas above the mean to allow gray matter T2\
            intensities.
        nsigma_below: # of sigmas below the mean to allow gray matter T2\
            intensities.
        t2_min_inside: Specify threshold for min T2 value allowed to be\
            interior to the cortical ribbon.
        t2_max_inside: Specify threshold for max T2 value allowed to be\
            interior to the cortical ribbon.
        t2_outside_min: Specify threshold for min T2 value outside of pial\
            surface that will cause surface to deform outwards.
        t2_outside_max: Specify threshold for max T2 value outside of pial\
            surface that will cause surface to deform outwards.
        min_peak_pct: Specify the pct of the histo peak in the local gm\
            histogram to use as threshold for finding the local inside and outside\
            gm thresholds.
        border_vals_hires: Turn on hires options in\
            MRIScomputeBorderValues_new(). May not be helpful.
        no_unitize: Turn off face normal unitization.
        intensity: Set weight of intensity cost.
        curv: Set weight of curvature cost.
        tspring: Set weight of tangential spring cost.
        nspring: Set weight of normal spring cost.
        repulse: Set weight of repulsion force.
        save_target: Save target surface for debugging.
        save_res: Save residual for debugging.
        v_vertexno: Set Gdiag_no to vertex number.
        diag_vertex: Set Gdiag_no to vertex number and turn off writing of\
            cortex label or curvature files.
        rip: Save ripflag as overlay. Specify full path including hemi, suffix,\
            etc.
        sigma_white: Save white surface sigma as overlay. Specify full path\
            including hemi, suffix, etc.
        sigma_pial: Save pial surface sigma as overlay. Specify full path\
            including hemi, suffix, etc.
        output: Append suffix to all outputs to prevent over-writing.
        min_border_white: Minimum border white.
        max_border_white: Maximum border white.
        min_gray_white_border: Minimum gray at white border.
        max_gray: Maximum gray value.
        max_gray_csf_border: Maximum gray at CSF border.
        min_gray_csf_border: Minimum gray at CSF border.
        max_csf: Maximum CSF value.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `MrisMakeSurfacesOutputs`).
    """
    params = mris_make_surfaces_params(
        subject_name=subject_name,
        hemisphere=hemisphere,
        white=white,
        pial=pial,
        whiteonly=whiteonly,
        nowhite=nowhite,
        orig_white=orig_white,
        orig_pial=orig_pial,
        q=q,
        max_gray_scale=max_gray_scale,
        c=c,
        cortex=cortex,
        w=w,
        first_wm_peak=first_wm_peak,
        a_avgs=a_avgs,
        pa_avgs=pa_avgs,
        wa_avgs=wa_avgs,
        t1_vol=t1_vol,
        w_vol=w_vol,
        long=long,
        dura_thresh=dura_thresh,
        sdir=sdir,
        erase_cerebellum=erase_cerebellum,
        wm_weight=wm_weight,
        nsigma_above=nsigma_above,
        nsigma_below=nsigma_below,
        t2_min_inside=t2_min_inside,
        t2_max_inside=t2_max_inside,
        t2_outside_min=t2_outside_min,
        t2_outside_max=t2_outside_max,
        min_peak_pct=min_peak_pct,
        border_vals_hires=border_vals_hires,
        no_unitize=no_unitize,
        intensity=intensity,
        curv=curv,
        tspring=tspring,
        nspring=nspring,
        repulse=repulse,
        save_target=save_target,
        save_res=save_res,
        v_vertexno=v_vertexno,
        diag_vertex=diag_vertex,
        rip=rip,
        sigma_white=sigma_white,
        sigma_pial=sigma_pial,
        output=output,
        min_border_white=min_border_white,
        max_border_white=max_border_white,
        min_gray_white_border=min_gray_white_border,
        max_gray=max_gray,
        max_gray_csf_border=max_gray_csf_border,
        min_gray_csf_border=min_gray_csf_border,
        max_csf=max_csf,
    )
    return mris_make_surfaces_execute(params, runner)


__all__ = [
    "MRIS_MAKE_SURFACES_METADATA",
    "MrisMakeSurfacesOutputs",
    "MrisMakeSurfacesParamsDict",
    "MrisMakeSurfacesParamsDictTagged",
    "mris_make_surfaces",
    "mris_make_surfaces_execute",
    "mris_make_surfaces_params",
]
