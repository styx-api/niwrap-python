# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

MRI_MODIFY_METADATA = Metadata(
    id="b010dddaf9be7eb6de0753946c3feda8c9496081.boutiques",
    name="mri_modify",
    package="freesurfer",
    container_image_tag="freesurfer/freesurfer:7.4.1",
)


_MriModifyParamsDictNoTag = typing.TypedDict('_MriModifyParamsDictNoTag', {
    "x_ras": list[float],
    "y_ras": list[float],
    "z_ras": list[float],
    "cras": list[float],
    "x_size": float,
    "y_size": float,
    "z_size": float,
    "tr": float,
    "te": float,
    "ti": float,
    "fa": float,
    "xform": str,
    "input_volume": InputPathType,
    "output_volume": str,
})
MriModifyParamsDictTagged = typing.TypedDict('MriModifyParamsDictTagged', {
    "@type": typing.Literal["freesurfer/mri_modify"],
    "x_ras": list[float],
    "y_ras": list[float],
    "z_ras": list[float],
    "cras": list[float],
    "x_size": float,
    "y_size": float,
    "z_size": float,
    "tr": float,
    "te": float,
    "ti": float,
    "fa": float,
    "xform": str,
    "input_volume": InputPathType,
    "output_volume": str,
})
MriModifyParamsDict = _MriModifyParamsDictNoTag | MriModifyParamsDictTagged


class MriModifyOutputs(typing.NamedTuple):
    """
    Output object returned when calling `MriModifyParamsDict(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""


def mri_modify_params(
    x_ras: list[float],
    y_ras: list[float],
    z_ras: list[float],
    cras: list[float],
    x_size: float,
    y_size: float,
    z_size: float,
    tr: float,
    te: float,
    ti: float,
    fa: float,
    xform: str,
    input_volume: InputPathType,
    output_volume: str,
) -> MriModifyParamsDictTagged:
    """
    Build parameters.
    
    Args:
        x_ras: X direction cosines (xr, xa, xs).
        y_ras: Y direction cosines (yr, ya, ys).
        z_ras: Z direction cosines (zr, za, zs).
        cras: Center RAS coordinates (cr, ca, cs).
        x_size: Size of voxel in X dimension.
        y_size: Size of voxel in Y dimension.
        z_size: Size of voxel in Z dimension.
        tr: Repetition time (TR).
        te: Echo time (TE).
        ti: Inversion time (TI).
        fa: Flip angle (degrees).
        xform: New transformation file name.
        input_volume: Input volume.
        output_volume: Output volume.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "freesurfer/mri_modify",
        "x_ras": x_ras,
        "y_ras": y_ras,
        "z_ras": z_ras,
        "cras": cras,
        "x_size": x_size,
        "y_size": y_size,
        "z_size": z_size,
        "tr": tr,
        "te": te,
        "ti": ti,
        "fa": fa,
        "xform": xform,
        "input_volume": input_volume,
        "output_volume": output_volume,
    }
    return params


def mri_modify_validate(
    params: typing.Any,
) -> None:
    """
    Validate parameters. Throws an error if `params` is not a valid
    `MriModifyParamsDict` object.
    
    Args:
        params: The parameters object to validate.
    """
    if params is None or not isinstance(params, dict):
        raise StyxValidationError(f'Params object has the wrong type \'{type(params)}\'')
    if params.get("x_ras", None) is None:
        raise StyxValidationError("`x_ras` must not be None")
    if not isinstance(params["x_ras"], list):
        raise StyxValidationError(f'`x_ras` has the wrong type: Received `{type(params.get("x_ras", None))}` expected `list[float]`')
    for e in params["x_ras"]:
        if not isinstance(e, (float, int)):
            raise StyxValidationError(f'`x_ras` has the wrong type: Received `{type(params.get("x_ras", None))}` expected `list[float]`')
    if params.get("y_ras", None) is None:
        raise StyxValidationError("`y_ras` must not be None")
    if not isinstance(params["y_ras"], list):
        raise StyxValidationError(f'`y_ras` has the wrong type: Received `{type(params.get("y_ras", None))}` expected `list[float]`')
    for e in params["y_ras"]:
        if not isinstance(e, (float, int)):
            raise StyxValidationError(f'`y_ras` has the wrong type: Received `{type(params.get("y_ras", None))}` expected `list[float]`')
    if params.get("z_ras", None) is None:
        raise StyxValidationError("`z_ras` must not be None")
    if not isinstance(params["z_ras"], list):
        raise StyxValidationError(f'`z_ras` has the wrong type: Received `{type(params.get("z_ras", None))}` expected `list[float]`')
    for e in params["z_ras"]:
        if not isinstance(e, (float, int)):
            raise StyxValidationError(f'`z_ras` has the wrong type: Received `{type(params.get("z_ras", None))}` expected `list[float]`')
    if params.get("cras", None) is None:
        raise StyxValidationError("`cras` must not be None")
    if not isinstance(params["cras"], list):
        raise StyxValidationError(f'`cras` has the wrong type: Received `{type(params.get("cras", None))}` expected `list[float]`')
    for e in params["cras"]:
        if not isinstance(e, (float, int)):
            raise StyxValidationError(f'`cras` has the wrong type: Received `{type(params.get("cras", None))}` expected `list[float]`')
    if params.get("x_size", None) is None:
        raise StyxValidationError("`x_size` must not be None")
    if not isinstance(params["x_size"], (float, int)):
        raise StyxValidationError(f'`x_size` has the wrong type: Received `{type(params.get("x_size", None))}` expected `float`')
    if params.get("y_size", None) is None:
        raise StyxValidationError("`y_size` must not be None")
    if not isinstance(params["y_size"], (float, int)):
        raise StyxValidationError(f'`y_size` has the wrong type: Received `{type(params.get("y_size", None))}` expected `float`')
    if params.get("z_size", None) is None:
        raise StyxValidationError("`z_size` must not be None")
    if not isinstance(params["z_size"], (float, int)):
        raise StyxValidationError(f'`z_size` has the wrong type: Received `{type(params.get("z_size", None))}` expected `float`')
    if params.get("tr", None) is None:
        raise StyxValidationError("`tr` must not be None")
    if not isinstance(params["tr"], (float, int)):
        raise StyxValidationError(f'`tr` has the wrong type: Received `{type(params.get("tr", None))}` expected `float`')
    if params.get("te", None) is None:
        raise StyxValidationError("`te` must not be None")
    if not isinstance(params["te"], (float, int)):
        raise StyxValidationError(f'`te` has the wrong type: Received `{type(params.get("te", None))}` expected `float`')
    if params.get("ti", None) is None:
        raise StyxValidationError("`ti` must not be None")
    if not isinstance(params["ti"], (float, int)):
        raise StyxValidationError(f'`ti` has the wrong type: Received `{type(params.get("ti", None))}` expected `float`')
    if params.get("fa", None) is None:
        raise StyxValidationError("`fa` must not be None")
    if not isinstance(params["fa"], (float, int)):
        raise StyxValidationError(f'`fa` has the wrong type: Received `{type(params.get("fa", None))}` expected `float`')
    if params.get("xform", None) is None:
        raise StyxValidationError("`xform` must not be None")
    if not isinstance(params["xform"], str):
        raise StyxValidationError(f'`xform` has the wrong type: Received `{type(params.get("xform", None))}` expected `str`')
    if params.get("input_volume", None) is None:
        raise StyxValidationError("`input_volume` must not be None")
    if not isinstance(params["input_volume"], (pathlib.Path, str)):
        raise StyxValidationError(f'`input_volume` has the wrong type: Received `{type(params.get("input_volume", None))}` expected `InputPathType`')
    if params.get("output_volume", None) is None:
        raise StyxValidationError("`output_volume` must not be None")
    if not isinstance(params["output_volume"], str):
        raise StyxValidationError(f'`output_volume` has the wrong type: Received `{type(params.get("output_volume", None))}` expected `str`')


def mri_modify_cargs(
    params: MriModifyParamsDict,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.append("mri_modify")
    cargs.extend([
        "-xras",
        *map(str, params.get("x_ras", None))
    ])
    cargs.extend([
        "-yras",
        *map(str, params.get("y_ras", None))
    ])
    cargs.extend([
        "-zras",
        *map(str, params.get("z_ras", None))
    ])
    cargs.extend([
        "-cras",
        *map(str, params.get("cras", None))
    ])
    cargs.extend([
        "-xsize",
        str(params.get("x_size", None))
    ])
    cargs.extend([
        "-ysize",
        str(params.get("y_size", None))
    ])
    cargs.extend([
        "-zsize",
        str(params.get("z_size", None))
    ])
    cargs.extend([
        "-tr",
        str(params.get("tr", None))
    ])
    cargs.extend([
        "-te",
        str(params.get("te", None))
    ])
    cargs.extend([
        "-ti",
        str(params.get("ti", None))
    ])
    cargs.extend([
        "-fa",
        str(params.get("fa", None))
    ])
    cargs.extend([
        "-xform",
        params.get("xform", None)
    ])
    cargs.append(execution.input_file(params.get("input_volume", None)))
    cargs.append(params.get("output_volume", None))
    return cargs


def mri_modify_outputs(
    params: MriModifyParamsDict,
    execution: Execution,
) -> MriModifyOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = MriModifyOutputs(
        root=execution.output_file("."),
    )
    return ret


def mri_modify_execute(
    params: MriModifyParamsDict,
    runner: Runner | None = None,
) -> MriModifyOutputs:
    """
    mri_modify
    
    Tool for modifying MRI image headers.
    
    Author: FreeSurfer Developers
    
    URL: https://github.com/freesurfer/freesurfer
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `MriModifyOutputs`).
    """
    mri_modify_validate(params)
    runner = runner or get_global_runner()
    execution = runner.start_execution(MRI_MODIFY_METADATA)
    params = execution.params(params)
    cargs = mri_modify_cargs(params, execution)
    ret = mri_modify_outputs(params, execution)
    execution.run(cargs)
    return ret


def mri_modify(
    x_ras: list[float],
    y_ras: list[float],
    z_ras: list[float],
    cras: list[float],
    x_size: float,
    y_size: float,
    z_size: float,
    tr: float,
    te: float,
    ti: float,
    fa: float,
    xform: str,
    input_volume: InputPathType,
    output_volume: str,
    runner: Runner | None = None,
) -> MriModifyOutputs:
    """
    mri_modify
    
    Tool for modifying MRI image headers.
    
    Author: FreeSurfer Developers
    
    URL: https://github.com/freesurfer/freesurfer
    
    Args:
        x_ras: X direction cosines (xr, xa, xs).
        y_ras: Y direction cosines (yr, ya, ys).
        z_ras: Z direction cosines (zr, za, zs).
        cras: Center RAS coordinates (cr, ca, cs).
        x_size: Size of voxel in X dimension.
        y_size: Size of voxel in Y dimension.
        z_size: Size of voxel in Z dimension.
        tr: Repetition time (TR).
        te: Echo time (TE).
        ti: Inversion time (TI).
        fa: Flip angle (degrees).
        xform: New transformation file name.
        input_volume: Input volume.
        output_volume: Output volume.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `MriModifyOutputs`).
    """
    params = mri_modify_params(
        x_ras=x_ras,
        y_ras=y_ras,
        z_ras=z_ras,
        cras=cras,
        x_size=x_size,
        y_size=y_size,
        z_size=z_size,
        tr=tr,
        te=te,
        ti=ti,
        fa=fa,
        xform=xform,
        input_volume=input_volume,
        output_volume=output_volume,
    )
    return mri_modify_execute(params, runner)


__all__ = [
    "MRI_MODIFY_METADATA",
    "MriModifyOutputs",
    "MriModifyParamsDict",
    "MriModifyParamsDictTagged",
    "mri_modify",
    "mri_modify_execute",
    "mri_modify_params",
]
