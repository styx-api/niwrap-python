# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

FSLCREATEHD_METADATA = Metadata(
    id="672c9bc337d8c46a42d2247bad31762bbb1079d7.boutiques",
    name="fslcreatehd",
    package="fsl",
    container_image_tag="brainlife/fsl:6.0.4-patched2",
)


_FslcreatehdParamsDictNoTag = typing.TypedDict('_FslcreatehdParamsDictNoTag', {
    "xsize": float,
    "ysize": float,
    "zsize": float,
    "tsize": float,
    "xvoxsize": float,
    "yvoxsize": float,
    "zvoxsize": float,
    "tr": float,
    "xorigin": float,
    "yorigin": float,
    "zorigin": float,
    "datatype": float,
    "headername": str,
    "nifti_xml_file": typing.NotRequired[InputPathType | None],
})
FslcreatehdParamsDictTagged = typing.TypedDict('FslcreatehdParamsDictTagged', {
    "@type": typing.Literal["fsl/fslcreatehd"],
    "xsize": float,
    "ysize": float,
    "zsize": float,
    "tsize": float,
    "xvoxsize": float,
    "yvoxsize": float,
    "zvoxsize": float,
    "tr": float,
    "xorigin": float,
    "yorigin": float,
    "zorigin": float,
    "datatype": float,
    "headername": str,
    "nifti_xml_file": typing.NotRequired[InputPathType | None],
})
FslcreatehdParamsDict = _FslcreatehdParamsDictNoTag | FslcreatehdParamsDictTagged


class FslcreatehdOutputs(typing.NamedTuple):
    """
    Output object returned when calling `FslcreatehdParamsDict(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""
    out_headerfile: OutputPathType
    """Generated NIfTI header file"""


def fslcreatehd_params(
    xsize: float,
    ysize: float,
    zsize: float,
    tsize: float,
    xvoxsize: float,
    yvoxsize: float,
    zvoxsize: float,
    tr: float,
    xorigin: float,
    yorigin: float,
    zorigin: float,
    datatype: float,
    headername: str,
    nifti_xml_file: InputPathType | None = None,
) -> FslcreatehdParamsDictTagged:
    """
    Build parameters.
    
    Args:
        xsize: Size of the image in the x dimension.
        ysize: Size of the image in the y dimension.
        zsize: Size of the image in the z dimension.
        tsize: Size of the image in the t dimension (time).
        xvoxsize: Voxel size in the x dimension.
        yvoxsize: Voxel size in the y dimension.
        zvoxsize: Voxel size in the z dimension.
        tr: Repetition time (TR) of the image.
        xorigin: Origin of the image in the x dimension.
        yorigin: Origin of the image in the y dimension.
        zorigin: Origin of the image in the z dimension.
        datatype: Datatype of the image (2=char, 4=short, 8=int, 16=float,\
            64=double).
        headername: Name of the header file to be created.
        nifti_xml_file: NIfTI XML file describing the header configuration\
            (Mutually exclusive with other inputs).
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "fsl/fslcreatehd",
        "xsize": xsize,
        "ysize": ysize,
        "zsize": zsize,
        "tsize": tsize,
        "xvoxsize": xvoxsize,
        "yvoxsize": yvoxsize,
        "zvoxsize": zvoxsize,
        "tr": tr,
        "xorigin": xorigin,
        "yorigin": yorigin,
        "zorigin": zorigin,
        "datatype": datatype,
        "headername": headername,
    }
    if nifti_xml_file is not None:
        params["nifti_xml_file"] = nifti_xml_file
    return params


def fslcreatehd_validate(
    params: typing.Any,
) -> None:
    """
    Validate parameters. Throws an error if `params` is not a valid
    `FslcreatehdParamsDict` object.
    
    Args:
        params: The parameters object to validate.
    """
    if params is None or not isinstance(params, dict):
        raise StyxValidationError(f'Params object has the wrong type \'{type(params)}\'')
    if params.get("xsize", None) is None:
        raise StyxValidationError("`xsize` must not be None")
    if not isinstance(params["xsize"], (float, int)):
        raise StyxValidationError(f'`xsize` has the wrong type: Received `{type(params.get("xsize", None))}` expected `float`')
    if params.get("ysize", None) is None:
        raise StyxValidationError("`ysize` must not be None")
    if not isinstance(params["ysize"], (float, int)):
        raise StyxValidationError(f'`ysize` has the wrong type: Received `{type(params.get("ysize", None))}` expected `float`')
    if params.get("zsize", None) is None:
        raise StyxValidationError("`zsize` must not be None")
    if not isinstance(params["zsize"], (float, int)):
        raise StyxValidationError(f'`zsize` has the wrong type: Received `{type(params.get("zsize", None))}` expected `float`')
    if params.get("tsize", None) is None:
        raise StyxValidationError("`tsize` must not be None")
    if not isinstance(params["tsize"], (float, int)):
        raise StyxValidationError(f'`tsize` has the wrong type: Received `{type(params.get("tsize", None))}` expected `float`')
    if params.get("xvoxsize", None) is None:
        raise StyxValidationError("`xvoxsize` must not be None")
    if not isinstance(params["xvoxsize"], (float, int)):
        raise StyxValidationError(f'`xvoxsize` has the wrong type: Received `{type(params.get("xvoxsize", None))}` expected `float`')
    if params.get("yvoxsize", None) is None:
        raise StyxValidationError("`yvoxsize` must not be None")
    if not isinstance(params["yvoxsize"], (float, int)):
        raise StyxValidationError(f'`yvoxsize` has the wrong type: Received `{type(params.get("yvoxsize", None))}` expected `float`')
    if params.get("zvoxsize", None) is None:
        raise StyxValidationError("`zvoxsize` must not be None")
    if not isinstance(params["zvoxsize"], (float, int)):
        raise StyxValidationError(f'`zvoxsize` has the wrong type: Received `{type(params.get("zvoxsize", None))}` expected `float`')
    if params.get("tr", None) is None:
        raise StyxValidationError("`tr` must not be None")
    if not isinstance(params["tr"], (float, int)):
        raise StyxValidationError(f'`tr` has the wrong type: Received `{type(params.get("tr", None))}` expected `float`')
    if params.get("xorigin", None) is None:
        raise StyxValidationError("`xorigin` must not be None")
    if not isinstance(params["xorigin"], (float, int)):
        raise StyxValidationError(f'`xorigin` has the wrong type: Received `{type(params.get("xorigin", None))}` expected `float`')
    if params.get("yorigin", None) is None:
        raise StyxValidationError("`yorigin` must not be None")
    if not isinstance(params["yorigin"], (float, int)):
        raise StyxValidationError(f'`yorigin` has the wrong type: Received `{type(params.get("yorigin", None))}` expected `float`')
    if params.get("zorigin", None) is None:
        raise StyxValidationError("`zorigin` must not be None")
    if not isinstance(params["zorigin"], (float, int)):
        raise StyxValidationError(f'`zorigin` has the wrong type: Received `{type(params.get("zorigin", None))}` expected `float`')
    if params.get("datatype", None) is None:
        raise StyxValidationError("`datatype` must not be None")
    if not isinstance(params["datatype"], (float, int)):
        raise StyxValidationError(f'`datatype` has the wrong type: Received `{type(params.get("datatype", None))}` expected `float`')
    if params.get("headername", None) is None:
        raise StyxValidationError("`headername` must not be None")
    if not isinstance(params["headername"], str):
        raise StyxValidationError(f'`headername` has the wrong type: Received `{type(params.get("headername", None))}` expected `str`')
    if params.get("nifti_xml_file", None) is not None:
        if not isinstance(params["nifti_xml_file"], (pathlib.Path, str)):
            raise StyxValidationError(f'`nifti_xml_file` has the wrong type: Received `{type(params.get("nifti_xml_file", None))}` expected `InputPathType | None`')


def fslcreatehd_cargs(
    params: FslcreatehdParamsDict,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.append("fslcreatehd")
    cargs.append(str(params.get("xsize", None)))
    cargs.append(str(params.get("ysize", None)))
    cargs.append(str(params.get("zsize", None)))
    cargs.append(str(params.get("tsize", None)))
    cargs.append(str(params.get("xvoxsize", None)))
    cargs.append(str(params.get("yvoxsize", None)))
    cargs.append(str(params.get("zvoxsize", None)))
    cargs.append(str(params.get("tr", None)))
    cargs.append(str(params.get("xorigin", None)))
    cargs.append(str(params.get("yorigin", None)))
    cargs.append(str(params.get("zorigin", None)))
    cargs.append(str(params.get("datatype", None)))
    cargs.append(params.get("headername", None))
    if params.get("nifti_xml_file", None) is not None:
        cargs.append(execution.input_file(params.get("nifti_xml_file", None)))
    return cargs


def fslcreatehd_outputs(
    params: FslcreatehdParamsDict,
    execution: Execution,
) -> FslcreatehdOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = FslcreatehdOutputs(
        root=execution.output_file("."),
        out_headerfile=execution.output_file(params.get("headername", None) + ".nii.gz"),
    )
    return ret


def fslcreatehd_execute(
    params: FslcreatehdParamsDict,
    runner: Runner | None = None,
) -> FslcreatehdOutputs:
    """
    fslcreatehd
    
    Tool to create a new NIfTI header.
    
    Author: FMRIB Analysis Group, University of Oxford
    
    URL: https://fsl.fmrib.ox.ac.uk/fsl/fslwiki
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `FslcreatehdOutputs`).
    """
    fslcreatehd_validate(params)
    runner = runner or get_global_runner()
    execution = runner.start_execution(FSLCREATEHD_METADATA)
    params = execution.params(params)
    cargs = fslcreatehd_cargs(params, execution)
    ret = fslcreatehd_outputs(params, execution)
    execution.run(cargs)
    return ret


def fslcreatehd(
    xsize: float,
    ysize: float,
    zsize: float,
    tsize: float,
    xvoxsize: float,
    yvoxsize: float,
    zvoxsize: float,
    tr: float,
    xorigin: float,
    yorigin: float,
    zorigin: float,
    datatype: float,
    headername: str,
    nifti_xml_file: InputPathType | None = None,
    runner: Runner | None = None,
) -> FslcreatehdOutputs:
    """
    fslcreatehd
    
    Tool to create a new NIfTI header.
    
    Author: FMRIB Analysis Group, University of Oxford
    
    URL: https://fsl.fmrib.ox.ac.uk/fsl/fslwiki
    
    Args:
        xsize: Size of the image in the x dimension.
        ysize: Size of the image in the y dimension.
        zsize: Size of the image in the z dimension.
        tsize: Size of the image in the t dimension (time).
        xvoxsize: Voxel size in the x dimension.
        yvoxsize: Voxel size in the y dimension.
        zvoxsize: Voxel size in the z dimension.
        tr: Repetition time (TR) of the image.
        xorigin: Origin of the image in the x dimension.
        yorigin: Origin of the image in the y dimension.
        zorigin: Origin of the image in the z dimension.
        datatype: Datatype of the image (2=char, 4=short, 8=int, 16=float,\
            64=double).
        headername: Name of the header file to be created.
        nifti_xml_file: NIfTI XML file describing the header configuration\
            (Mutually exclusive with other inputs).
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `FslcreatehdOutputs`).
    """
    params = fslcreatehd_params(
        xsize=xsize,
        ysize=ysize,
        zsize=zsize,
        tsize=tsize,
        xvoxsize=xvoxsize,
        yvoxsize=yvoxsize,
        zvoxsize=zvoxsize,
        tr=tr,
        xorigin=xorigin,
        yorigin=yorigin,
        zorigin=zorigin,
        datatype=datatype,
        headername=headername,
        nifti_xml_file=nifti_xml_file,
    )
    return fslcreatehd_execute(params, runner)


__all__ = [
    "FSLCREATEHD_METADATA",
    "FslcreatehdOutputs",
    "FslcreatehdParamsDict",
    "FslcreatehdParamsDictTagged",
    "fslcreatehd",
    "fslcreatehd_execute",
    "fslcreatehd_params",
]
