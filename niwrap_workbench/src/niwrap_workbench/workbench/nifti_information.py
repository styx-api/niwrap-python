# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

NIFTI_INFORMATION_METADATA = Metadata(
    id="e9c11d632fc070fafb7efd4e280c2753fca13b1e.workbench",
    name="nifti-information",
    package="workbench",
)


NiftiInformationPrintXmlParameters = typing.TypedDict('NiftiInformationPrintXmlParameters', {
    "@type": typing.NotRequired[typing.Literal["print-xml"]],
    "version": typing.NotRequired[str | None],
})
NiftiInformationPrintXmlParametersTagged = typing.TypedDict('NiftiInformationPrintXmlParametersTagged', {
    "@type": typing.Literal["print-xml"],
    "version": typing.NotRequired[str | None],
})


NiftiInformationParameters = typing.TypedDict('NiftiInformationParameters', {
    "@type": typing.NotRequired[typing.Literal["workbench/nifti-information"]],
    "allow-truncated": typing.NotRequired[bool | None],
    "print-matrix": bool,
    "print-xml": typing.NotRequired[NiftiInformationPrintXmlParameters | None],
    "nifti-file": str,
})
NiftiInformationParametersTagged = typing.TypedDict('NiftiInformationParametersTagged', {
    "@type": typing.Literal["workbench/nifti-information"],
    "allow-truncated": typing.NotRequired[bool | None],
    "print-matrix": bool,
    "print-xml": typing.NotRequired[NiftiInformationPrintXmlParameters | None],
    "nifti-file": str,
})


def nifti_information_print_xml_params(
    version: str | None,
) -> NiftiInformationPrintXmlParametersTagged:
    """
    Build parameters.
    
    Args:
        version: convert the XML to a specific CIFTI version (default is the\
            file's cifti version)\
            \
            the CIFTI version to use.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "print-xml",
    }
    if version is not None:
        params["version"] = version
    return params


def nifti_information_print_xml_cargs(
    params: NiftiInformationPrintXmlParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    if params.get("version", None) is not None:
        cargs.extend([
            "-print-xml",
            "-version",
            params.get("version", None)
        ])
    return cargs


class NiftiInformationOutputs(typing.NamedTuple):
    """
    Output object returned when calling `NiftiInformationParameters(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""


def nifti_information_params(
    nifti_file: str,
    allow_truncated: bool | None = False,
    print_matrix: bool = False,
    print_xml: NiftiInformationPrintXmlParameters | None = None,
) -> NiftiInformationParametersTagged:
    """
    Build parameters.
    
    Args:
        nifti_file: the nifti/cifti file to examine.
        allow_truncated: display the header contents\
            \
            print the header even if the data is truncated.
        print_matrix: output the values in the matrix (cifti only).
        print_xml: print the cifti XML (cifti only).
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "workbench/nifti-information",
        "print-matrix": print_matrix,
        "nifti-file": nifti_file,
    }
    if allow_truncated is not None:
        params["allow-truncated"] = allow_truncated
    if print_xml is not None:
        params["print-xml"] = print_xml
    return params


def nifti_information_cargs(
    params: NiftiInformationParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    if params.get("allow-truncated", False) is not None or params.get("print-matrix", False) or params.get("print-xml", None) is not None:
        cargs.extend([
            "wb_command",
            "-nifti-information",
            "-print-header",
            ("-allow-truncated" if (params.get("allow-truncated", False) is not None) else ""),
            ("-print-matrix" if (params.get("print-matrix", False)) else ""),
            *(nifti_information_print_xml_cargs(params.get("print-xml", None), execution) if (params.get("print-xml", None) is not None) else [])
        ])
    cargs.append(params.get("nifti-file", None))
    return cargs


def nifti_information_outputs(
    params: NiftiInformationParameters,
    execution: Execution,
) -> NiftiInformationOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = NiftiInformationOutputs(
        root=execution.output_file("."),
    )
    return ret


def nifti_information_execute(
    params: NiftiInformationParameters,
    runner: Runner | None = None,
) -> NiftiInformationOutputs:
    """
    DISPLAY INFORMATION ABOUT A NIFTI/CIFTI FILE.
    
    You must specify at least one -print-* option.
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `NiftiInformationOutputs`).
    """
    runner = runner or get_global_runner()
    execution = runner.start_execution(NIFTI_INFORMATION_METADATA)
    params = execution.params(params)
    cargs = nifti_information_cargs(params, execution)
    ret = nifti_information_outputs(params, execution)
    execution.run(cargs)
    return ret


def nifti_information(
    nifti_file: str,
    allow_truncated: bool | None = False,
    print_matrix: bool = False,
    print_xml: NiftiInformationPrintXmlParameters | None = None,
    runner: Runner | None = None,
) -> NiftiInformationOutputs:
    """
    DISPLAY INFORMATION ABOUT A NIFTI/CIFTI FILE.
    
    You must specify at least one -print-* option.
    
    Args:
        nifti_file: the nifti/cifti file to examine.
        allow_truncated: display the header contents\
            \
            print the header even if the data is truncated.
        print_matrix: output the values in the matrix (cifti only).
        print_xml: print the cifti XML (cifti only).
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `NiftiInformationOutputs`).
    """
    params = nifti_information_params(
        allow_truncated=allow_truncated,
        print_matrix=print_matrix,
        print_xml=print_xml,
        nifti_file=nifti_file,
    )
    return nifti_information_execute(params, runner)


__all__ = [
    "NIFTI_INFORMATION_METADATA",
    "NiftiInformationOutputs",
    "nifti_information",
    "nifti_information_execute",
    "nifti_information_params",
    "nifti_information_print_xml_params",
]
