# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

FOCI_RESAMPLE_METADATA = Metadata(
    id="6683a0cb7080f4729048697e248762fc138498eb.workbench",
    name="foci-resample",
    package="workbench",
)


FociResampleLeftSurfacesParameters = typing.TypedDict('FociResampleLeftSurfacesParameters', {
    "@type": typing.NotRequired[typing.Literal["left-surfaces"]],
    "current-surf": InputPathType,
    "new-surf": InputPathType,
})
FociResampleLeftSurfacesParametersTagged = typing.TypedDict('FociResampleLeftSurfacesParametersTagged', {
    "@type": typing.Literal["left-surfaces"],
    "current-surf": InputPathType,
    "new-surf": InputPathType,
})


FociResampleRightSurfacesParameters = typing.TypedDict('FociResampleRightSurfacesParameters', {
    "@type": typing.NotRequired[typing.Literal["right-surfaces"]],
    "current-surf": InputPathType,
    "new-surf": InputPathType,
})
FociResampleRightSurfacesParametersTagged = typing.TypedDict('FociResampleRightSurfacesParametersTagged', {
    "@type": typing.Literal["right-surfaces"],
    "current-surf": InputPathType,
    "new-surf": InputPathType,
})


FociResampleCerebellumSurfacesParameters = typing.TypedDict('FociResampleCerebellumSurfacesParameters', {
    "@type": typing.NotRequired[typing.Literal["cerebellum-surfaces"]],
    "current-surf": InputPathType,
    "new-surf": InputPathType,
})
FociResampleCerebellumSurfacesParametersTagged = typing.TypedDict('FociResampleCerebellumSurfacesParametersTagged', {
    "@type": typing.Literal["cerebellum-surfaces"],
    "current-surf": InputPathType,
    "new-surf": InputPathType,
})


FociResampleParameters = typing.TypedDict('FociResampleParameters', {
    "@type": typing.NotRequired[typing.Literal["workbench/foci-resample"]],
    "foci-out": str,
    "left-surfaces": typing.NotRequired[FociResampleLeftSurfacesParameters | None],
    "right-surfaces": typing.NotRequired[FociResampleRightSurfacesParameters | None],
    "cerebellum-surfaces": typing.NotRequired[FociResampleCerebellumSurfacesParameters | None],
    "discard-distance-from-surface": bool,
    "restore-xyz": bool,
    "foci-in": InputPathType,
})
FociResampleParametersTagged = typing.TypedDict('FociResampleParametersTagged', {
    "@type": typing.Literal["workbench/foci-resample"],
    "foci-out": str,
    "left-surfaces": typing.NotRequired[FociResampleLeftSurfacesParameters | None],
    "right-surfaces": typing.NotRequired[FociResampleRightSurfacesParameters | None],
    "cerebellum-surfaces": typing.NotRequired[FociResampleCerebellumSurfacesParameters | None],
    "discard-distance-from-surface": bool,
    "restore-xyz": bool,
    "foci-in": InputPathType,
})


def foci_resample_left_surfaces_params(
    current_surf: InputPathType,
    new_surf: InputPathType,
) -> FociResampleLeftSurfacesParametersTagged:
    """
    Build parameters.
    
    Args:
        current_surf: the surface the foci are currently projected on.
        new_surf: the surface to project the foci onto.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "left-surfaces",
        "current-surf": current_surf,
        "new-surf": new_surf,
    }
    return params


def foci_resample_left_surfaces_cargs(
    params: FociResampleLeftSurfacesParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.extend([
        "-left-surfaces",
        execution.input_file(params.get("current-surf", None)),
        execution.input_file(params.get("new-surf", None))
    ])
    return cargs


def foci_resample_right_surfaces_params(
    current_surf: InputPathType,
    new_surf: InputPathType,
) -> FociResampleRightSurfacesParametersTagged:
    """
    Build parameters.
    
    Args:
        current_surf: the surface the foci are currently projected on.
        new_surf: the surface to project the foci onto.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "right-surfaces",
        "current-surf": current_surf,
        "new-surf": new_surf,
    }
    return params


def foci_resample_right_surfaces_cargs(
    params: FociResampleRightSurfacesParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.extend([
        "-right-surfaces",
        execution.input_file(params.get("current-surf", None)),
        execution.input_file(params.get("new-surf", None))
    ])
    return cargs


def foci_resample_cerebellum_surfaces_params(
    current_surf: InputPathType,
    new_surf: InputPathType,
) -> FociResampleCerebellumSurfacesParametersTagged:
    """
    Build parameters.
    
    Args:
        current_surf: the surface the foci are currently projected on.
        new_surf: the surface to project the foci onto.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "cerebellum-surfaces",
        "current-surf": current_surf,
        "new-surf": new_surf,
    }
    return params


def foci_resample_cerebellum_surfaces_cargs(
    params: FociResampleCerebellumSurfacesParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.extend([
        "-cerebellum-surfaces",
        execution.input_file(params.get("current-surf", None)),
        execution.input_file(params.get("new-surf", None))
    ])
    return cargs


class FociResampleOutputs(typing.NamedTuple):
    """
    Output object returned when calling `FociResampleParameters(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""
    foci_out: OutputPathType
    """the output foci file"""


def foci_resample_params(
    foci_out: str,
    foci_in: InputPathType,
    left_surfaces: FociResampleLeftSurfacesParameters | None = None,
    right_surfaces: FociResampleRightSurfacesParameters | None = None,
    cerebellum_surfaces: FociResampleCerebellumSurfacesParameters | None = None,
    discard_distance_from_surface: bool = False,
    restore_xyz: bool = False,
) -> FociResampleParametersTagged:
    """
    Build parameters.
    
    Args:
        foci_out: the output foci file.
        foci_in: the input foci file.
        left_surfaces: the left surfaces for resampling.
        right_surfaces: the right surfaces for resampling.
        cerebellum_surfaces: the cerebellum surfaces for resampling.
        discard_distance_from_surface: ignore the distance the foci are above\
            or below the current surface.
        restore_xyz: put the original xyz coordinates into the foci, rather\
            than the coordinates obtained from unprojection.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "workbench/foci-resample",
        "foci-out": foci_out,
        "discard-distance-from-surface": discard_distance_from_surface,
        "restore-xyz": restore_xyz,
        "foci-in": foci_in,
    }
    if left_surfaces is not None:
        params["left-surfaces"] = left_surfaces
    if right_surfaces is not None:
        params["right-surfaces"] = right_surfaces
    if cerebellum_surfaces is not None:
        params["cerebellum-surfaces"] = cerebellum_surfaces
    return params


def foci_resample_cargs(
    params: FociResampleParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    if params.get("left-surfaces", None) is not None or params.get("right-surfaces", None) is not None or params.get("cerebellum-surfaces", None) is not None or params.get("discard-distance-from-surface", False) or params.get("restore-xyz", False):
        cargs.extend([
            "wb_command",
            "-foci-resample",
            params.get("foci-out", None),
            *(foci_resample_left_surfaces_cargs(params.get("left-surfaces", None), execution) if (params.get("left-surfaces", None) is not None) else []),
            *(foci_resample_right_surfaces_cargs(params.get("right-surfaces", None), execution) if (params.get("right-surfaces", None) is not None) else []),
            *(foci_resample_cerebellum_surfaces_cargs(params.get("cerebellum-surfaces", None), execution) if (params.get("cerebellum-surfaces", None) is not None) else []),
            ("-discard-distance-from-surface" if (params.get("discard-distance-from-surface", False)) else ""),
            ("-restore-xyz" if (params.get("restore-xyz", False)) else "")
        ])
    cargs.append(execution.input_file(params.get("foci-in", None)))
    return cargs


def foci_resample_outputs(
    params: FociResampleParameters,
    execution: Execution,
) -> FociResampleOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = FociResampleOutputs(
        root=execution.output_file("."),
        foci_out=execution.output_file(params.get("foci-out", None)),
    )
    return ret


def foci_resample_execute(
    params: FociResampleParameters,
    runner: Runner | None = None,
) -> FociResampleOutputs:
    """
    PROJECT FOCI TO A DIFFERENT SURFACE.
    
    Unprojects foci from the <current-surf> for the structure, then projects
    them to <new-surf>. If the foci have meaningful distances above or below the
    surface, use anatomical surfaces. If the foci should be on the surface, use
    registered spheres and the options -discard-distance-from-surface and
    -restore-xyz.
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `FociResampleOutputs`).
    """
    runner = runner or get_global_runner()
    execution = runner.start_execution(FOCI_RESAMPLE_METADATA)
    params = execution.params(params)
    cargs = foci_resample_cargs(params, execution)
    ret = foci_resample_outputs(params, execution)
    execution.run(cargs)
    return ret


def foci_resample(
    foci_out: str,
    foci_in: InputPathType,
    left_surfaces: FociResampleLeftSurfacesParameters | None = None,
    right_surfaces: FociResampleRightSurfacesParameters | None = None,
    cerebellum_surfaces: FociResampleCerebellumSurfacesParameters | None = None,
    discard_distance_from_surface: bool = False,
    restore_xyz: bool = False,
    runner: Runner | None = None,
) -> FociResampleOutputs:
    """
    PROJECT FOCI TO A DIFFERENT SURFACE.
    
    Unprojects foci from the <current-surf> for the structure, then projects
    them to <new-surf>. If the foci have meaningful distances above or below the
    surface, use anatomical surfaces. If the foci should be on the surface, use
    registered spheres and the options -discard-distance-from-surface and
    -restore-xyz.
    
    Args:
        foci_out: the output foci file.
        foci_in: the input foci file.
        left_surfaces: the left surfaces for resampling.
        right_surfaces: the right surfaces for resampling.
        cerebellum_surfaces: the cerebellum surfaces for resampling.
        discard_distance_from_surface: ignore the distance the foci are above\
            or below the current surface.
        restore_xyz: put the original xyz coordinates into the foci, rather\
            than the coordinates obtained from unprojection.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `FociResampleOutputs`).
    """
    params = foci_resample_params(
        foci_out=foci_out,
        left_surfaces=left_surfaces,
        right_surfaces=right_surfaces,
        cerebellum_surfaces=cerebellum_surfaces,
        discard_distance_from_surface=discard_distance_from_surface,
        restore_xyz=restore_xyz,
        foci_in=foci_in,
    )
    return foci_resample_execute(params, runner)


__all__ = [
    "FOCI_RESAMPLE_METADATA",
    "FociResampleOutputs",
    "foci_resample",
    "foci_resample_cerebellum_surfaces_params",
    "foci_resample_execute",
    "foci_resample_left_surfaces_params",
    "foci_resample_params",
    "foci_resample_right_surfaces_params",
]
