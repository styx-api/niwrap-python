# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

FILE_CONVERT_METADATA = Metadata(
    id="955bdf431ca1cccbf73a19afbeac8667fbb4a28c.workbench",
    name="file-convert",
    package="workbench",
)


FileConvertBorderVersionConvertParameters = typing.TypedDict('FileConvertBorderVersionConvertParameters', {
    "@type": typing.NotRequired[typing.Literal["border-version-convert"]],
    "border-in": InputPathType,
    "out-version": int,
    "border-out": str,
    "surface": typing.NotRequired[InputPathType | None],
})
FileConvertBorderVersionConvertParametersTagged = typing.TypedDict('FileConvertBorderVersionConvertParametersTagged', {
    "@type": typing.Literal["border-version-convert"],
    "border-in": InputPathType,
    "out-version": int,
    "border-out": str,
    "surface": typing.NotRequired[InputPathType | None],
})


FileConvertNiftiVersionConvertParameters = typing.TypedDict('FileConvertNiftiVersionConvertParameters', {
    "@type": typing.NotRequired[typing.Literal["nifti-version-convert"]],
    "input": str,
    "version": int,
    "output": str,
})
FileConvertNiftiVersionConvertParametersTagged = typing.TypedDict('FileConvertNiftiVersionConvertParametersTagged', {
    "@type": typing.Literal["nifti-version-convert"],
    "input": str,
    "version": int,
    "output": str,
})


FileConvertCiftiVersionConvertParameters = typing.TypedDict('FileConvertCiftiVersionConvertParameters', {
    "@type": typing.NotRequired[typing.Literal["cifti-version-convert"]],
    "cifti-in": InputPathType,
    "version": str,
    "cifti-out": str,
})
FileConvertCiftiVersionConvertParametersTagged = typing.TypedDict('FileConvertCiftiVersionConvertParametersTagged', {
    "@type": typing.Literal["cifti-version-convert"],
    "cifti-in": InputPathType,
    "version": str,
    "cifti-out": str,
})


FileConvertParameters = typing.TypedDict('FileConvertParameters', {
    "@type": typing.NotRequired[typing.Literal["workbench/file-convert"]],
    "border-version-convert": typing.NotRequired[FileConvertBorderVersionConvertParameters | None],
    "nifti-version-convert": typing.NotRequired[FileConvertNiftiVersionConvertParameters | None],
    "cifti-version-convert": typing.NotRequired[FileConvertCiftiVersionConvertParameters | None],
})
FileConvertParametersTagged = typing.TypedDict('FileConvertParametersTagged', {
    "@type": typing.Literal["workbench/file-convert"],
    "border-version-convert": typing.NotRequired[FileConvertBorderVersionConvertParameters | None],
    "nifti-version-convert": typing.NotRequired[FileConvertNiftiVersionConvertParameters | None],
    "cifti-version-convert": typing.NotRequired[FileConvertCiftiVersionConvertParameters | None],
})


def file_convert_border_version_convert_params(
    border_in: InputPathType,
    out_version: int,
    border_out: str,
    surface: InputPathType | None,
) -> FileConvertBorderVersionConvertParametersTagged:
    """
    Build parameters.
    
    Args:
        border_in: the input border file.
        out_version: the format version to write as, 1 or 3 (2 doesn't exist).
        border_out: output - the output border file.
        surface: must be specified if the input is version 1\
            \
            use this surface file for structure and number of vertices, ignore\
            borders on other structures.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "border-version-convert",
        "border-in": border_in,
        "out-version": out_version,
        "border-out": border_out,
    }
    if surface is not None:
        params["surface"] = surface
    return params


def file_convert_border_version_convert_cargs(
    params: FileConvertBorderVersionConvertParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    if params.get("surface", None) is not None:
        cargs.extend([
            "-border-version-convert",
            execution.input_file(params.get("border-in", None)),
            str(params.get("out-version", None)),
            params.get("border-out", None),
            "-surface",
            execution.input_file(params.get("surface", None))
        ])
    return cargs


def file_convert_nifti_version_convert_params(
    input_: str,
    version: int,
    output: str,
) -> FileConvertNiftiVersionConvertParametersTagged:
    """
    Build parameters.
    
    Args:
        input_: the input nifti file.
        version: the nifti version to write as.
        output: output - the output nifti file.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "nifti-version-convert",
        "input": input_,
        "version": version,
        "output": output,
    }
    return params


def file_convert_nifti_version_convert_cargs(
    params: FileConvertNiftiVersionConvertParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.extend([
        "-nifti-version-convert",
        params.get("input", None),
        str(params.get("version", None)),
        params.get("output", None)
    ])
    return cargs


def file_convert_cifti_version_convert_params(
    cifti_in: InputPathType,
    version: str,
    cifti_out: str,
) -> FileConvertCiftiVersionConvertParametersTagged:
    """
    Build parameters.
    
    Args:
        cifti_in: the input cifti file.
        version: the cifti version to write as.
        cifti_out: output - the output cifti file.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "cifti-version-convert",
        "cifti-in": cifti_in,
        "version": version,
        "cifti-out": cifti_out,
    }
    return params


def file_convert_cifti_version_convert_cargs(
    params: FileConvertCiftiVersionConvertParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.extend([
        "-cifti-version-convert",
        execution.input_file(params.get("cifti-in", None)),
        params.get("version", None),
        params.get("cifti-out", None)
    ])
    return cargs


class FileConvertOutputs(typing.NamedTuple):
    """
    Output object returned when calling `FileConvertParameters(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""


def file_convert_params(
    border_version_convert: FileConvertBorderVersionConvertParameters | None = None,
    nifti_version_convert: FileConvertNiftiVersionConvertParameters | None = None,
    cifti_version_convert: FileConvertCiftiVersionConvertParameters | None = None,
) -> FileConvertParametersTagged:
    """
    Build parameters.
    
    Args:
        border_version_convert: write a border file with a different version.
        nifti_version_convert: write a nifti file with a different version.
        cifti_version_convert: write a cifti file with a different version.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "workbench/file-convert",
    }
    if border_version_convert is not None:
        params["border-version-convert"] = border_version_convert
    if nifti_version_convert is not None:
        params["nifti-version-convert"] = nifti_version_convert
    if cifti_version_convert is not None:
        params["cifti-version-convert"] = cifti_version_convert
    return params


def file_convert_cargs(
    params: FileConvertParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    if params.get("border-version-convert", None) is not None or params.get("nifti-version-convert", None) is not None or params.get("cifti-version-convert", None) is not None:
        cargs.extend([
            "wb_command",
            "-file-convert",
            *(file_convert_border_version_convert_cargs(params.get("border-version-convert", None), execution) if (params.get("border-version-convert", None) is not None) else []),
            *(file_convert_nifti_version_convert_cargs(params.get("nifti-version-convert", None), execution) if (params.get("nifti-version-convert", None) is not None) else []),
            *(file_convert_cifti_version_convert_cargs(params.get("cifti-version-convert", None), execution) if (params.get("cifti-version-convert", None) is not None) else [])
        ])
    return cargs


def file_convert_outputs(
    params: FileConvertParameters,
    execution: Execution,
) -> FileConvertOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = FileConvertOutputs(
        root=execution.output_file("."),
    )
    return ret


def file_convert_execute(
    params: FileConvertParameters,
    runner: Runner | None = None,
) -> FileConvertOutputs:
    """
    CHANGE VERSION OF FILE FORMAT.
    
    You may only specify one top-level option.
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `FileConvertOutputs`).
    """
    runner = runner or get_global_runner()
    execution = runner.start_execution(FILE_CONVERT_METADATA)
    params = execution.params(params)
    cargs = file_convert_cargs(params, execution)
    ret = file_convert_outputs(params, execution)
    execution.run(cargs)
    return ret


def file_convert(
    border_version_convert: FileConvertBorderVersionConvertParameters | None = None,
    nifti_version_convert: FileConvertNiftiVersionConvertParameters | None = None,
    cifti_version_convert: FileConvertCiftiVersionConvertParameters | None = None,
    runner: Runner | None = None,
) -> FileConvertOutputs:
    """
    CHANGE VERSION OF FILE FORMAT.
    
    You may only specify one top-level option.
    
    Args:
        border_version_convert: write a border file with a different version.
        nifti_version_convert: write a nifti file with a different version.
        cifti_version_convert: write a cifti file with a different version.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `FileConvertOutputs`).
    """
    params = file_convert_params(
        border_version_convert=border_version_convert,
        nifti_version_convert=nifti_version_convert,
        cifti_version_convert=cifti_version_convert,
    )
    return file_convert_execute(params, runner)


__all__ = [
    "FILE_CONVERT_METADATA",
    "FileConvertOutputs",
    "file_convert",
    "file_convert_border_version_convert_params",
    "file_convert_cifti_version_convert_params",
    "file_convert_execute",
    "file_convert_nifti_version_convert_params",
    "file_convert_params",
]
