# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

METRIC_CONVERT_METADATA = Metadata(
    id="4df60d9d341bdad2b06cad65892590415be630ec.workbench",
    name="metric-convert",
    package="workbench",
)


MetricConvertToNiftiParameters = typing.TypedDict('MetricConvertToNiftiParameters', {
    "@type": typing.NotRequired[typing.Literal["to-nifti"]],
    "metric-in": InputPathType,
    "nifti-out": str,
})
MetricConvertToNiftiParametersTagged = typing.TypedDict('MetricConvertToNiftiParametersTagged', {
    "@type": typing.Literal["to-nifti"],
    "metric-in": InputPathType,
    "nifti-out": str,
})


MetricConvertFromNiftiParameters = typing.TypedDict('MetricConvertFromNiftiParameters', {
    "@type": typing.NotRequired[typing.Literal["from-nifti"]],
    "nifti-in": InputPathType,
    "surface-in": InputPathType,
    "metric-out": str,
})
MetricConvertFromNiftiParametersTagged = typing.TypedDict('MetricConvertFromNiftiParametersTagged', {
    "@type": typing.Literal["from-nifti"],
    "nifti-in": InputPathType,
    "surface-in": InputPathType,
    "metric-out": str,
})


MetricConvertParameters = typing.TypedDict('MetricConvertParameters', {
    "@type": typing.NotRequired[typing.Literal["workbench/metric-convert"]],
    "to-nifti": typing.NotRequired[MetricConvertToNiftiParameters | None],
    "from-nifti": typing.NotRequired[MetricConvertFromNiftiParameters | None],
})
MetricConvertParametersTagged = typing.TypedDict('MetricConvertParametersTagged', {
    "@type": typing.Literal["workbench/metric-convert"],
    "to-nifti": typing.NotRequired[MetricConvertToNiftiParameters | None],
    "from-nifti": typing.NotRequired[MetricConvertFromNiftiParameters | None],
})


class MetricConvertToNiftiOutputs(typing.NamedTuple):
    """
    Output object returned when calling `MetricConvertToNiftiParameters | None(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""
    nifti_out: OutputPathType
    """the output nifti file"""


def metric_convert_to_nifti_params(
    metric_in: InputPathType,
    nifti_out: str,
) -> MetricConvertToNiftiParametersTagged:
    """
    Build parameters.
    
    Args:
        metric_in: the metric to convert.
        nifti_out: the output nifti file.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "to-nifti",
        "metric-in": metric_in,
        "nifti-out": nifti_out,
    }
    return params


def metric_convert_to_nifti_cargs(
    params: MetricConvertToNiftiParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.extend([
        "-to-nifti",
        execution.input_file(params.get("metric-in", None)),
        params.get("nifti-out", None)
    ])
    return cargs


def metric_convert_to_nifti_outputs(
    params: MetricConvertToNiftiParameters,
    execution: Execution,
) -> MetricConvertToNiftiOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = MetricConvertToNiftiOutputs(
        root=execution.output_file("."),
        nifti_out=execution.output_file(params.get("nifti-out", None)),
    )
    return ret


class MetricConvertFromNiftiOutputs(typing.NamedTuple):
    """
    Output object returned when calling `MetricConvertFromNiftiParameters | None(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""
    metric_out: OutputPathType
    """the output metric file"""


def metric_convert_from_nifti_params(
    nifti_in: InputPathType,
    surface_in: InputPathType,
    metric_out: str,
) -> MetricConvertFromNiftiParametersTagged:
    """
    Build parameters.
    
    Args:
        nifti_in: the nifti file to convert.
        surface_in: surface file to use number of vertices and structure from.
        metric_out: the output metric file.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "from-nifti",
        "nifti-in": nifti_in,
        "surface-in": surface_in,
        "metric-out": metric_out,
    }
    return params


def metric_convert_from_nifti_cargs(
    params: MetricConvertFromNiftiParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.extend([
        "-from-nifti",
        execution.input_file(params.get("nifti-in", None)),
        execution.input_file(params.get("surface-in", None)),
        params.get("metric-out", None)
    ])
    return cargs


def metric_convert_from_nifti_outputs(
    params: MetricConvertFromNiftiParameters,
    execution: Execution,
) -> MetricConvertFromNiftiOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = MetricConvertFromNiftiOutputs(
        root=execution.output_file("."),
        metric_out=execution.output_file(params.get("metric-out", None)),
    )
    return ret


class MetricConvertOutputs(typing.NamedTuple):
    """
    Output object returned when calling `MetricConvertParameters(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""
    to_nifti: MetricConvertToNiftiOutputs | None
    """Outputs from `metric_convert_to_nifti_outputs`."""
    from_nifti: MetricConvertFromNiftiOutputs | None
    """Outputs from `metric_convert_from_nifti_outputs`."""


def metric_convert_params(
    to_nifti: MetricConvertToNiftiParameters | None = None,
    from_nifti: MetricConvertFromNiftiParameters | None = None,
) -> MetricConvertParametersTagged:
    """
    Build parameters.
    
    Args:
        to_nifti: convert metric to nifti.
        from_nifti: convert nifti to metric.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "workbench/metric-convert",
    }
    if to_nifti is not None:
        params["to-nifti"] = to_nifti
    if from_nifti is not None:
        params["from-nifti"] = from_nifti
    return params


def metric_convert_cargs(
    params: MetricConvertParameters,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    if params.get("to-nifti", None) is not None or params.get("from-nifti", None) is not None:
        cargs.extend([
            "wb_command",
            "-metric-convert",
            *(metric_convert_to_nifti_cargs(params.get("to-nifti", None), execution) if (params.get("to-nifti", None) is not None) else []),
            *(metric_convert_from_nifti_cargs(params.get("from-nifti", None), execution) if (params.get("from-nifti", None) is not None) else [])
        ])
    return cargs


def metric_convert_outputs(
    params: MetricConvertParameters,
    execution: Execution,
) -> MetricConvertOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = MetricConvertOutputs(
        root=execution.output_file("."),
        to_nifti=metric_convert_to_nifti_outputs(params.get("to-nifti"), execution) if params.get("to-nifti") else None,
        from_nifti=metric_convert_from_nifti_outputs(params.get("from-nifti"), execution) if params.get("from-nifti") else None,
    )
    return ret


def metric_convert_execute(
    params: MetricConvertParameters,
    runner: Runner | None = None,
) -> MetricConvertOutputs:
    """
    CONVERT METRIC FILE TO FAKE NIFTI.
    
    The purpose of this command is to convert between metric files and nifti1 so
    that gifti-unaware programs can operate on the data. You must specify
    exactly one of the options.
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `MetricConvertOutputs`).
    """
    runner = runner or get_global_runner()
    execution = runner.start_execution(METRIC_CONVERT_METADATA)
    params = execution.params(params)
    cargs = metric_convert_cargs(params, execution)
    ret = metric_convert_outputs(params, execution)
    execution.run(cargs)
    return ret


def metric_convert(
    to_nifti: MetricConvertToNiftiParameters | None = None,
    from_nifti: MetricConvertFromNiftiParameters | None = None,
    runner: Runner | None = None,
) -> MetricConvertOutputs:
    """
    CONVERT METRIC FILE TO FAKE NIFTI.
    
    The purpose of this command is to convert between metric files and nifti1 so
    that gifti-unaware programs can operate on the data. You must specify
    exactly one of the options.
    
    Args:
        to_nifti: convert metric to nifti.
        from_nifti: convert nifti to metric.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `MetricConvertOutputs`).
    """
    params = metric_convert_params(
        to_nifti=to_nifti,
        from_nifti=from_nifti,
    )
    return metric_convert_execute(params, runner)


__all__ = [
    "METRIC_CONVERT_METADATA",
    "MetricConvertFromNiftiOutputs",
    "MetricConvertOutputs",
    "MetricConvertToNiftiOutputs",
    "metric_convert",
    "metric_convert_execute",
    "metric_convert_from_nifti_params",
    "metric_convert_params",
    "metric_convert_to_nifti_params",
]
