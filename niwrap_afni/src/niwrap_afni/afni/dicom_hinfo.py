# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

DICOM_HINFO_METADATA = Metadata(
    id="2da4137ffb7a00f1751a6350ead114c9f0d440cc.boutiques",
    name="dicom_hinfo",
    package="afni",
    container_image_tag="afni/afni_make_build:AFNI_24.2.06",
)


_DicomHinfoParamsDictNoTag = typing.TypedDict('_DicomHinfoParamsDictNoTag', {
    "tag": list[str],
    "sepstr": typing.NotRequired[str | None],
    "full_entry": bool,
    "no_name": bool,
    "namelast": bool,
    "files": list[InputPathType],
})
DicomHinfoParamsDictTagged = typing.TypedDict('DicomHinfoParamsDictTagged', {
    "@type": typing.Literal["afni/dicom_hinfo"],
    "tag": list[str],
    "sepstr": typing.NotRequired[str | None],
    "full_entry": bool,
    "no_name": bool,
    "namelast": bool,
    "files": list[InputPathType],
})
DicomHinfoParamsDict = _DicomHinfoParamsDictNoTag | DicomHinfoParamsDictTagged


class DicomHinfoOutputs(typing.NamedTuple):
    """
    Output object returned when calling `DicomHinfoParamsDict(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""


def dicom_hinfo_params(
    tag: list[str],
    files: list[InputPathType],
    sepstr: str | None = None,
    full_entry: bool = False,
    no_name: bool = False,
    namelast: bool = False,
) -> DicomHinfoParamsDictTagged:
    """
    Build parameters.
    
    Args:
        tag: Specify one or more DICOM tags to print, in the format aaaa,bbbb\
            where aaaa and bbbb are hexadecimal digits.
        files: DICOM file(s) to process.
        sepstr: Use the specified string to separate fields instead of space.
        full_entry: Output the full entry if it is more than one word or\
            contains white space.
        no_name: Omit the filename from the output.
        namelast: Place the filename last in the output instead of first.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "afni/dicom_hinfo",
        "tag": tag,
        "full_entry": full_entry,
        "no_name": no_name,
        "namelast": namelast,
        "files": files,
    }
    if sepstr is not None:
        params["sepstr"] = sepstr
    return params


def dicom_hinfo_validate(
    params: typing.Any,
) -> None:
    """
    Validate parameters. Throws an error if `params` is not a valid
    `DicomHinfoParamsDict` object.
    
    Args:
        params: The parameters object to validate.
    """
    if params is None or not isinstance(params, dict):
        raise StyxValidationError(f'Params object has the wrong type \'{type(params)}\'')
    if params.get("tag", None) is None:
        raise StyxValidationError("`tag` must not be None")
    if not isinstance(params["tag"], list):
        raise StyxValidationError(f'`tag` has the wrong type: Received `{type(params.get("tag", None))}` expected `list[str]`')
    for e in params["tag"]:
        if not isinstance(e, str):
            raise StyxValidationError(f'`tag` has the wrong type: Received `{type(params.get("tag", None))}` expected `list[str]`')
    if params.get("sepstr", None) is not None:
        if not isinstance(params["sepstr"], str):
            raise StyxValidationError(f'`sepstr` has the wrong type: Received `{type(params.get("sepstr", None))}` expected `str | None`')
    if params.get("full_entry", False) is None:
        raise StyxValidationError("`full_entry` must not be None")
    if not isinstance(params["full_entry"], bool):
        raise StyxValidationError(f'`full_entry` has the wrong type: Received `{type(params.get("full_entry", False))}` expected `bool`')
    if params.get("no_name", False) is None:
        raise StyxValidationError("`no_name` must not be None")
    if not isinstance(params["no_name"], bool):
        raise StyxValidationError(f'`no_name` has the wrong type: Received `{type(params.get("no_name", False))}` expected `bool`')
    if params.get("namelast", False) is None:
        raise StyxValidationError("`namelast` must not be None")
    if not isinstance(params["namelast"], bool):
        raise StyxValidationError(f'`namelast` has the wrong type: Received `{type(params.get("namelast", False))}` expected `bool`')
    if params.get("files", None) is None:
        raise StyxValidationError("`files` must not be None")
    if not isinstance(params["files"], list):
        raise StyxValidationError(f'`files` has the wrong type: Received `{type(params.get("files", None))}` expected `list[InputPathType]`')
    for e in params["files"]:
        if not isinstance(e, (pathlib.Path, str)):
            raise StyxValidationError(f'`files` has the wrong type: Received `{type(params.get("files", None))}` expected `list[InputPathType]`')


def dicom_hinfo_cargs(
    params: DicomHinfoParamsDict,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.append("dicom_hinfo")
    cargs.extend([
        "-tag",
        *params.get("tag", None)
    ])
    if params.get("sepstr", None) is not None:
        cargs.extend([
            "-sepstr",
            params.get("sepstr", None)
        ])
    if params.get("full_entry", False):
        cargs.append("-full_entry")
    if params.get("no_name", False):
        cargs.append("-no_name")
    if params.get("namelast", False):
        cargs.append("-namelast")
    cargs.extend([execution.input_file(f) for f in params.get("files", None)])
    return cargs


def dicom_hinfo_outputs(
    params: DicomHinfoParamsDict,
    execution: Execution,
) -> DicomHinfoOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = DicomHinfoOutputs(
        root=execution.output_file("."),
    )
    return ret


def dicom_hinfo_execute(
    params: DicomHinfoParamsDict,
    runner: Runner | None = None,
) -> DicomHinfoOutputs:
    """
    dicom_hinfo
    
    Prints selected information from one or more DICOM files to stdout.
    
    Author: AFNI Developers
    
    URL: https://afni.nimh.nih.gov/
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `DicomHinfoOutputs`).
    """
    dicom_hinfo_validate(params)
    runner = runner or get_global_runner()
    execution = runner.start_execution(DICOM_HINFO_METADATA)
    params = execution.params(params)
    cargs = dicom_hinfo_cargs(params, execution)
    ret = dicom_hinfo_outputs(params, execution)
    execution.run(cargs)
    return ret


def dicom_hinfo(
    tag: list[str],
    files: list[InputPathType],
    sepstr: str | None = None,
    full_entry: bool = False,
    no_name: bool = False,
    namelast: bool = False,
    runner: Runner | None = None,
) -> DicomHinfoOutputs:
    """
    dicom_hinfo
    
    Prints selected information from one or more DICOM files to stdout.
    
    Author: AFNI Developers
    
    URL: https://afni.nimh.nih.gov/
    
    Args:
        tag: Specify one or more DICOM tags to print, in the format aaaa,bbbb\
            where aaaa and bbbb are hexadecimal digits.
        files: DICOM file(s) to process.
        sepstr: Use the specified string to separate fields instead of space.
        full_entry: Output the full entry if it is more than one word or\
            contains white space.
        no_name: Omit the filename from the output.
        namelast: Place the filename last in the output instead of first.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `DicomHinfoOutputs`).
    """
    params = dicom_hinfo_params(
        tag=tag,
        sepstr=sepstr,
        full_entry=full_entry,
        no_name=no_name,
        namelast=namelast,
        files=files,
    )
    return dicom_hinfo_execute(params, runner)


__all__ = [
    "DICOM_HINFO_METADATA",
    "DicomHinfoOutputs",
    "DicomHinfoParamsDict",
    "DicomHinfoParamsDictTagged",
    "dicom_hinfo",
    "dicom_hinfo_execute",
    "dicom_hinfo_params",
]
