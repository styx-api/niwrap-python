# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *

V_3D_NOTES_METADATA = Metadata(
    id="1756987bc517c02b04ed29f17cd59746f7a1e6a8.boutiques",
    name="3dNotes",
    package="afni",
    container_image_tag="afni/afni_make_build:AFNI_24.2.06",
)


_V3dNotesParamsDictNoTag = typing.TypedDict('_V3dNotesParamsDictNoTag', {
    "add_note": typing.NotRequired[str | None],
    "append_history": typing.NotRequired[str | None],
    "replace_history": typing.NotRequired[str | None],
    "delete_note": typing.NotRequired[float | None],
    "print_notes": bool,
    "help": bool,
    "dataset": InputPathType,
})
V3dNotesParamsDictTagged = typing.TypedDict('V3dNotesParamsDictTagged', {
    "@type": typing.Literal["afni/3dNotes"],
    "add_note": typing.NotRequired[str | None],
    "append_history": typing.NotRequired[str | None],
    "replace_history": typing.NotRequired[str | None],
    "delete_note": typing.NotRequired[float | None],
    "print_notes": bool,
    "help": bool,
    "dataset": InputPathType,
})
V3dNotesParamsDict = _V3dNotesParamsDictNoTag | V3dNotesParamsDictTagged


class V3dNotesOutputs(typing.NamedTuple):
    """
    Output object returned when calling `V3dNotesParamsDict(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""


def v_3d_notes_params(
    dataset: InputPathType,
    add_note: str | None = None,
    append_history: str | None = None,
    replace_history: str | None = None,
    delete_note: float | None = None,
    print_notes: bool = False,
    help_: bool = False,
) -> V3dNotesParamsDictTagged:
    """
    Build parameters.
    
    Args:
        dataset: AFNI compatible dataset [required].
        add_note: Add the string 'str' to the list of notes.
        append_history: Append the string 'str' to the dataset's history. This\
            can only appear once on the command line.
        replace_history: Replace any existing history note with 'str'. This\
            option cannot be used with '-h'.
        delete_note: Deletes note number num.
        print_notes: Print to stdout the expanded notes.
        help_: Displays this help screen.
    Returns:
        Parameter dictionary
    """
    params = {
        "@type": "afni/3dNotes",
        "print_notes": print_notes,
        "help": help_,
        "dataset": dataset,
    }
    if add_note is not None:
        params["add_note"] = add_note
    if append_history is not None:
        params["append_history"] = append_history
    if replace_history is not None:
        params["replace_history"] = replace_history
    if delete_note is not None:
        params["delete_note"] = delete_note
    return params


def v_3d_notes_validate(
    params: typing.Any,
) -> None:
    """
    Validate parameters. Throws an error if `params` is not a valid
    `V3dNotesParamsDict` object.
    
    Args:
        params: The parameters object to validate.
    """
    if params is None or not isinstance(params, dict):
        raise StyxValidationError(f'Params object has the wrong type \'{type(params)}\'')
    if params.get("add_note", None) is not None:
        if not isinstance(params["add_note"], str):
            raise StyxValidationError(f'`add_note` has the wrong type: Received `{type(params.get("add_note", None))}` expected `str | None`')
    if params.get("append_history", None) is not None:
        if not isinstance(params["append_history"], str):
            raise StyxValidationError(f'`append_history` has the wrong type: Received `{type(params.get("append_history", None))}` expected `str | None`')
    if params.get("replace_history", None) is not None:
        if not isinstance(params["replace_history"], str):
            raise StyxValidationError(f'`replace_history` has the wrong type: Received `{type(params.get("replace_history", None))}` expected `str | None`')
    if params.get("delete_note", None) is not None:
        if not isinstance(params["delete_note"], (float, int)):
            raise StyxValidationError(f'`delete_note` has the wrong type: Received `{type(params.get("delete_note", None))}` expected `float | None`')
    if params.get("print_notes", False) is None:
        raise StyxValidationError("`print_notes` must not be None")
    if not isinstance(params["print_notes"], bool):
        raise StyxValidationError(f'`print_notes` has the wrong type: Received `{type(params.get("print_notes", False))}` expected `bool`')
    if params.get("help", False) is None:
        raise StyxValidationError("`help` must not be None")
    if not isinstance(params["help"], bool):
        raise StyxValidationError(f'`help` has the wrong type: Received `{type(params.get("help", False))}` expected `bool`')
    if params.get("dataset", None) is None:
        raise StyxValidationError("`dataset` must not be None")
    if not isinstance(params["dataset"], (pathlib.Path, str)):
        raise StyxValidationError(f'`dataset` has the wrong type: Received `{type(params.get("dataset", None))}` expected `InputPathType`')


def v_3d_notes_cargs(
    params: V3dNotesParamsDict,
    execution: Execution,
) -> list[str]:
    """
    Build command-line arguments from parameters.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Command-line arguments.
    """
    cargs = []
    cargs.append("3dNotes")
    if params.get("add_note", None) is not None:
        cargs.extend([
            "-a",
            params.get("add_note", None)
        ])
    if params.get("append_history", None) is not None:
        cargs.extend([
            "-h",
            params.get("append_history", None)
        ])
    if params.get("replace_history", None) is not None:
        cargs.extend([
            "-HH",
            params.get("replace_history", None)
        ])
    if params.get("delete_note", None) is not None:
        cargs.extend([
            "-d",
            str(params.get("delete_note", None))
        ])
    if params.get("print_notes", False):
        cargs.append("-ses")
    if params.get("help", False):
        cargs.append("-help")
    cargs.append(execution.input_file(params.get("dataset", None)))
    return cargs


def v_3d_notes_outputs(
    params: V3dNotesParamsDict,
    execution: Execution,
) -> V3dNotesOutputs:
    """
    Build outputs object containing output file paths and possibly stdout/stderr.
    
    Args:
        params: The parameters.
        execution: The execution object for resolving input paths.
    Returns:
        Outputs object.
    """
    ret = V3dNotesOutputs(
        root=execution.output_file("."),
    )
    return ret


def v_3d_notes_execute(
    params: V3dNotesParamsDict,
    runner: Runner | None = None,
) -> V3dNotesOutputs:
    """
    3dNotes
    
    A program to add, delete and show notes for AFNI datasets.
    
    Author: AFNI Developers
    
    URL: https://afni.nimh.nih.gov/
    
    Args:
        params: The parameters.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `V3dNotesOutputs`).
    """
    v_3d_notes_validate(params)
    runner = runner or get_global_runner()
    execution = runner.start_execution(V_3D_NOTES_METADATA)
    params = execution.params(params)
    cargs = v_3d_notes_cargs(params, execution)
    ret = v_3d_notes_outputs(params, execution)
    execution.run(cargs)
    return ret


def v_3d_notes(
    dataset: InputPathType,
    add_note: str | None = None,
    append_history: str | None = None,
    replace_history: str | None = None,
    delete_note: float | None = None,
    print_notes: bool = False,
    help_: bool = False,
    runner: Runner | None = None,
) -> V3dNotesOutputs:
    """
    3dNotes
    
    A program to add, delete and show notes for AFNI datasets.
    
    Author: AFNI Developers
    
    URL: https://afni.nimh.nih.gov/
    
    Args:
        dataset: AFNI compatible dataset [required].
        add_note: Add the string 'str' to the list of notes.
        append_history: Append the string 'str' to the dataset's history. This\
            can only appear once on the command line.
        replace_history: Replace any existing history note with 'str'. This\
            option cannot be used with '-h'.
        delete_note: Deletes note number num.
        print_notes: Print to stdout the expanded notes.
        help_: Displays this help screen.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `V3dNotesOutputs`).
    """
    params = v_3d_notes_params(
        add_note=add_note,
        append_history=append_history,
        replace_history=replace_history,
        delete_note=delete_note,
        print_notes=print_notes,
        help_=help_,
        dataset=dataset,
    )
    return v_3d_notes_execute(params, runner)


__all__ = [
    "V3dNotesOutputs",
    "V3dNotesParamsDict",
    "V3dNotesParamsDictTagged",
    "V_3D_NOTES_METADATA",
    "v_3d_notes",
    "v_3d_notes_execute",
    "v_3d_notes_params",
]
